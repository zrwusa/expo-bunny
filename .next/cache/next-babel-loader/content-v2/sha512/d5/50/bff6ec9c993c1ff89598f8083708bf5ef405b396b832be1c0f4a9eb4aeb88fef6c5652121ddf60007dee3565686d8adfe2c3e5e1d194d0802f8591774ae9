{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"name\",\"stack\",\"component\",\"childrenNode\",\"authScreen\",\"navigatorType\",\"path\",\"exact\",\"parse\",\"stringify\",\"initialParams\",\"screenOptions\",\"detachInactiveScreens\",\"initialRouteName\",\"statusBarAnimation\",\"sceneContainerStyle\",\"overlayColor\",\"openByDefault\",\"mode\",\"minSwipeDistance\",\"lazy\",\"tabBarOptions\",\"tabBar\",\"keyboardHandlingEnabled\",\"keyboardDismissMode\",\"hideStatusBar\",\"headerMode\",\"gestureHandlerProps\",\"edgeWidth\",\"drawerType\",\"drawerStyle\",\"drawerContentOptions\",\"drawerPosition\",\"drawerContent\",\"backBehavior\",\"options\"];import _regeneratorRuntime from\"@babel/runtime/regenerator\";import glyphMaterialCommunityMap from'@expo/vector-icons/build/vendor/react-native-vector-icons/glyphmaps/MaterialCommunityIcons.json';import{deepAdd,deepKeysConvert,deepRemoveByKey,deepRenameKeys,uuidV4}from\"../utils\";import configORG from\"../config\";import icoMoonSelection from\"../assets/fonts/icomoon/selection.json\";import{firebase}from\"../firebase/firebase\";import*as ImagePicker from'expo-image-picker';import PanResponder from\"react-native-web/dist/exports/PanResponder\";export var navigatorPropsExtract=function navigatorPropsExtract(node){var name=node.name,stack=node.stack,component=node.component,childrenNode=node.childrenNode,authScreen=node.authScreen,navigatorType=node.navigatorType,path=node.path,exact=node.exact,parse=node.parse,stringify=node.stringify,initialParams=node.initialParams,screenOptions=node.screenOptions,detachInactiveScreens=node.detachInactiveScreens,initialRouteName=node.initialRouteName,statusBarAnimation=node.statusBarAnimation,sceneContainerStyle=node.sceneContainerStyle,overlayColor=node.overlayColor,openByDefault=node.openByDefault,mode=node.mode,minSwipeDistance=node.minSwipeDistance,lazy=node.lazy,tabBarOptions=node.tabBarOptions,tabBar=node.tabBar,keyboardHandlingEnabled=node.keyboardHandlingEnabled,keyboardDismissMode=node.keyboardDismissMode,hideStatusBar=node.hideStatusBar,headerMode=node.headerMode,gestureHandlerProps=node.gestureHandlerProps,edgeWidth=node.edgeWidth,drawerType=node.drawerType,drawerStyle=node.drawerStyle,drawerContentOptions=node.drawerContentOptions,drawerPosition=node.drawerPosition,drawerContent=node.drawerContent,backBehavior=node.backBehavior,options=node.options,rest=_objectWithoutProperties(node,_excluded);var tabProps={initialRouteName:initialRouteName,screenOptions:screenOptions,backBehavior:backBehavior,lazy:lazy,detachInactiveScreens:detachInactiveScreens,sceneContainerStyle:sceneContainerStyle,tabBar:tabBar,tabBarOptions:tabBarOptions};var stackProps={initialRouteName:initialRouteName,screenOptions:screenOptions,keyboardHandlingEnabled:keyboardHandlingEnabled,mode:mode,headerMode:headerMode,detachInactiveScreens:detachInactiveScreens};var drawerProps={initialRouteName:initialRouteName,screenOptions:screenOptions,backBehavior:backBehavior,openByDefault:openByDefault,drawerPosition:drawerPosition,drawerType:drawerType,edgeWidth:edgeWidth,hideStatusBar:hideStatusBar,statusBarAnimation:statusBarAnimation,keyboardDismissMode:keyboardDismissMode,minSwipeDistance:minSwipeDistance,overlayColor:overlayColor,lazy:lazy,detachInactiveScreens:detachInactiveScreens,gestureHandlerProps:gestureHandlerProps,sceneContainerStyle:sceneContainerStyle,drawerStyle:drawerStyle,drawerContent:drawerContent,drawerContentOptions:drawerContentOptions};var propsMap={'stack':stackProps,'tab':tabProps,'drawer':drawerProps,'top':tabProps};return propsMap[navigatorType];};export var tabBarIconNameConfig={TabHome:{default:'home1',focused:'home1'},TabSettings:{default:'settings',focused:'settings'},CryptoCurrencyHome:{default:'bargraph',focused:'bargraph'},CryptoCurrencyAlert:{default:'alarmclock',focused:'alarmclock'},RNHome:{default:'barometer',focused:'barometer'},RNFlatList:{default:'layout4',focused:'layout4'},RNSectionList:{default:'layout7',focused:'layout7'},RNVirtualizedList:{default:'two-fingers-swipe-up',focused:'two-fingers-swipe-up'},RNNoKeyboard:{default:'keyboard1',focused:'keyboard1'},RNSafeArea:{default:'umbrella',focused:'umbrella'},SocialMediaHome:{default:'home3',focused:'home3'},SocialMediaSearch:{default:'search',focused:'search'},SocialMediaVideo:{default:'tv',focused:'tv'},SocialMediaShopping:{default:'shopping-bag',focused:'shopping-bag'},SocialMediaSettings:{default:'settings',focused:'settings'},HealthHome:{default:'presentation',focused:'presentation'},HealthSettings:{default:'settings',focused:'settings'},DatingHome:{default:'heart',focused:'heart'},DatingChat:{default:'chat3',focused:'chat3'},DatingSettings:{default:'user-o',focused:'user-o'}};var getIconMCCustomMap=function getIconMCCustomMap(iconConfig){var map={};var glyphMapT=glyphMaterialCommunityMap;Object.keys(iconConfig).forEach(function(key){var defaultKey=iconConfig[key]['default'];var focusedKey=iconConfig[key]['focused'];map[defaultKey]=glyphMapT[defaultKey];map[focusedKey]=glyphMapT[focusedKey];});return map;};export var glyphMaterialCommunityCustomMap=getIconMCCustomMap(tabBarIconNameConfig);export var icoMoonSelectionToGlyphMap=function icoMoonSelectionToGlyphMap(icoMoonSelection){var map={};var icons=icoMoonSelection.icons;for(var i in icons){var iconProperties=icons[i].properties;var name=iconProperties.name,code=iconProperties.code;map[name.toString()]=code;}return map;};export var glyphIcoMoonMap=icoMoonSelectionToGlyphMap(icoMoonSelection);export var getIconNameByRoute=function getIconNameByRoute(routeName,focused){var key=focused?'focused':'default';var routeIconObj=tabBarIconNameConfig[routeName];var iconName;if(routeIconObj&&routeIconObj[key]){iconName=routeIconObj[key];}else{iconName='';}return iconName;};export var bizLogicError=function bizLogicError(blMsg,shouldShow){var shouldShowParam=shouldShow!==undefined?shouldShow:true;return{id:uuidV4(),success:false,data:undefined,message:blMsg,shouldShow:shouldShowParam};};export var bizLogicSuccess=function bizLogicSuccess(data,message,shouldShow){var shouldShowParam=shouldShow!==undefined?shouldShow:true;return{id:uuidV4(),success:true,data:data,message:message||'',shouldShow:shouldShowParam};};export var getApiInstanceConfig=function getApiInstanceConfig(apiConfigName){var config=configORG;var apiConfig=config[apiConfigName];if(apiConfig){var isDevServer=apiConfig.isDevServer,isDevServerProxy=apiConfig.isDevServerProxy,devServerProxy=apiConfig.devServerProxy,devServer=apiConfig.devServer,timeout=apiConfig.timeout;var port;var httpPrefix;var defaultPort;var finalBaseUrl='';if(isDevServer){var devServerHost=\"\"+devServer.domain+devServer.port;var devProxyPrefix=isDevServerProxy?Object.keys(devServerProxy)[0]:'';finalBaseUrl=\"\"+devServerHost+devProxyPrefix;}else{var env=true?'prod':apiConfig.env;var envObj=apiConfig[env];if(envObj){httpPrefix=envObj.isHttps?'https://':'http://';defaultPort=envObj.isHttps?443:80;port=envObj.port||defaultPort;finalBaseUrl=\"\"+httpPrefix+envObj.domain+\":\"+port;}else{throw env+\" config not available,check the config\";}}return{baseURL:finalBaseUrl,timeout:timeout};}};export var navToReference=function navToReference(route,navigation){var referenceRoute;if(route.params&&route.params.reference){referenceRoute=JSON.parse(route.params.reference);navigation.navigate(referenceRoute);}else{navigation.navigate('Home');}};export var navToLogin=function navToLogin(route,navigation){if(route.params&&route.params.reference){navigation.navigate('Auth',{screen:'Login',params:{reference:route.params.reference}});}else{navigation.navigate('Auth',{screen:'Login'});}};export var navToSignUp=function navToSignUp(route,navigation){if(route.params&&route.params.reference){navigation.navigate('Auth',{screen:'SignUp',params:{reference:route.params.reference}});}else{navigation.navigate('Auth',{screen:'SignUp'});}};export var uploadFileToFirebase=function uploadFileToFirebase(uri,path){var blob,ref,snapshot;return _regeneratorRuntime.async(function uploadFileToFirebase$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(new Promise(function(resolve,reject){var xhr=new XMLHttpRequest();xhr.onload=function(){resolve(xhr.response);};xhr.onerror=function(e){reject(new TypeError('Network request failed'));};xhr.responseType='blob';xhr.open('GET',uri,true);xhr.send(null);}));case 2:blob=_context.sent;ref=firebase.storage().ref(path).child(uuidV4());_context.next=6;return _regeneratorRuntime.awrap(ref.put(blob));case 6:snapshot=_context.sent;_context.next=9;return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());case 9:return _context.abrupt(\"return\",_context.sent);case 10:case\"end\":return _context.stop();}}},null,null,null,Promise);};export var removeFileFromFirebaseByURL=function removeFileFromFirebaseByURL(uri){var imageRef;return _regeneratorRuntime.async(function removeFileFromFirebaseByURL$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;imageRef=firebase.storage().refFromURL(uri);_context2.next=4;return _regeneratorRuntime.awrap(imageRef.delete());case 4:return _context2.abrupt(\"return\",_context2.sent);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(!['storage/invalid-argument','storage/object-not-found'].includes(_context2.t0.code)){_context2.next=13;break;}return _context2.abrupt(\"return\");case 13:throw _context2.t0;case 14:case\"end\":return _context2.stop();}}},null,null,[[0,7]],Promise);};export var Permissions={mediaLibrary:{get:function get(){var mediaLibraryPermission;return _regeneratorRuntime.async(function get$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());case 2:mediaLibraryPermission=_context3.sent;return _context3.abrupt(\"return\",mediaLibraryPermission.status==='granted');case 4:case\"end\":return _context3.stop();}}},null,null,null,Promise);}},camera:{get:function get(){var cameraPermission;return _regeneratorRuntime.async(function get$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());case 2:cameraPermission=_context4.sent;return _context4.abrupt(\"return\",cameraPermission.status==='granted');case 4:case\"end\":return _context4.stop();}}},null,null,null,Promise);}}};var _panResponder=PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(evt,gestureState){return true;},onStartShouldSetPanResponderCapture:function onStartShouldSetPanResponderCapture(evt,gestureState){return true;},onMoveShouldSetPanResponder:function onMoveShouldSetPanResponder(evt,gestureState){return true;},onMoveShouldSetPanResponderCapture:function onMoveShouldSetPanResponderCapture(evt,gestureState){return true;}});export var panHandlersBlock=_panResponder.panHandlers;export var occupationDataFormat=function occupationDataFormat(data){var isDebug=false;var dataCamelKeys=deepKeysConvert(data,'camel');isDebug&&console.log('dataCamel',dataCamelKeys);var dataPropertiesRenamed=deepRenameKeys(dataCamelKeys,{occupationTitle:'name',occupationSort:'sort',occupationType:'type'});isDebug&&console.log('dataPropertiesRenamed',dataPropertiesRenamed);var dataAddedProperties=deepAdd(dataPropertiesRenamed,{'category':function category(item){var _item$occupationCode;return((_item$occupationCode=item['occupationCode'])==null?void 0:_item$occupationCode.substr(0,2))||'';},'code':function code(item){var _item$occupationCode2;return((_item$occupationCode2=item['occupationCode'])==null?void 0:_item$occupationCode2.substr(3,20))||'';}});isDebug&&console.log('dataAddedProperties',dataAddedProperties);var dataPropertiesRemoved=deepRemoveByKey(dataAddedProperties,['2019PercentOfIndustry','2019Employment','2019PercentOfOccupation','employmentChange20192029','employmentPercentChange20192029','projected2029Employment','projected2029PercentOfIndustry','projected2029PercentOfOccupation','occupationCode']);isDebug&&console.log('dataPropertiesRemoved',dataPropertiesRemoved);return dataPropertiesRemoved;};export var occupationCategoriesFormat=function occupationCategoriesFormat(data){var isDebug=false;var dataCamelKeys=deepKeysConvert(data,'camel');isDebug&&console.log('dataCamel',dataCamelKeys);var dataPropertiesRenamed=deepRenameKeys(dataCamelKeys,{occupationTitle:'name',occupationSort:'sort',occupationType:'type'});isDebug&&console.log('dataPropertiesRenamed',dataPropertiesRenamed);var dataAddedProperties=deepAdd(dataPropertiesRenamed,{'code':function code(item){var _item$occupationCode3;return((_item$occupationCode3=item['occupationCode'])==null?void 0:_item$occupationCode3.substr(0,2))||'';}});isDebug&&console.log('dataAddedProperties',dataAddedProperties);var dataPropertiesRemoved=deepRemoveByKey(dataAddedProperties,['2019PercentOfIndustry','2019Employment','2019PercentOfOccupation','employmentChange20192029','employmentPercentChange20192029','projected2029Employment','projected2029PercentOfIndustry','projected2029PercentOfOccupation','occupationCode']);isDebug&&console.log('dataPropertiesRemoved',dataPropertiesRemoved);return dataPropertiesRemoved;};","map":null,"metadata":{},"sourceType":"module"}