{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useMemo}from'react';import Platform from\"react-native-web/dist/exports/Platform\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import Text from\"react-native-web/dist/exports/Text\";import AsyncStorage from'@react-native-async-storage/async-storage';import{useDispatch,useSelector}from'react-redux';import{AppearanceProvider}from'react-native-appearance';import BunnyConstants from\"./constants/constants\";import{collectSysError,restoreIsReady,restoreNavInitialState}from\"./store/actions\";import{ThemeLaborContext,ThemeLaborProvider}from\"./providers/theme-labor\";import{Preparing}from\"./components\";import{useTranslation}from'react-i18next';import{RequestProvider}from\"./providers/request-labor\";import{loadAsync}from'expo-font';import icoMoonFont from\"./assets/fonts/icomoon/fonts/icomoon.ttf\";import{SizeLaborProvider}from\"./providers/size-labor\";import NavigatorTree from\"./navigation/NavigatorTree\";import{AuthLaborProvider}from\"./providers/auth-labor\";import{I18nLaborProvider}from\"./providers/i18n-labor\";import RequestLoading from\"./components/RequestLoading\";import BLToast from\"./components/BLToast\";import Sys from\"./components/Sys\";import{SafeAreaProvider}from'react-native-safe-area-context';function App(){var dispatch=useDispatch();var _useSelector=useSelector(function(rootState){return rootState.sysState;}),isReady=_useSelector.isReady,navInitialState=_useSelector.navInitialState;var _useTranslation=useTranslation(),t=_useTranslation.t;var navInitialStateMemorized=useMemo(function(){return navInitialState;},[navInitialState]);React.useEffect(function(){var mockPreparingTimer=BunnyConstants.fooTimeout;var bootstrapAsync=function bootstrapAsync(){var savedState,state;return _regeneratorRuntime.async(function bootstrapAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(restoreIsReady({isReady:false}));_context.prev=1;_context.next=4;return _regeneratorRuntime.awrap(loadAsync({IcoMoon:icoMoonFont}));case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);dispatch(collectSysError(_context.t0.toString()));case 9:_context.prev=9;_context.prev=10;if(!(Platform.OS!=='web')){_context.next=17;break;}_context.next=14;return _regeneratorRuntime.awrap(AsyncStorage.getItem(BunnyConstants.NAV_STATE_PERSISTENCE_KEY));case 14:savedState=_context.sent;state=savedState?JSON.parse(savedState):undefined;if(state!==undefined){dispatch(restoreNavInitialState({navInitialState:state}));}case 17:_context.next=22;break;case 19:_context.prev=19;_context.t1=_context[\"catch\"](10);dispatch(collectSysError(_context.t1.toString()));case 22:_context.prev=22;dispatch(restoreIsReady({isReady:true}));return _context.finish(22);case 25:return _context.finish(9);case 26:case\"end\":return _context.stop();}}},null,null,[[1,6,9,26],[10,19,22,25]],Promise);};bootstrapAsync().catch(function(err){return dispatch(collectSysError(err.toString()));});return function(){return clearTimeout(mockPreparingTimer);};},[]);return isReady?React.createElement(AppearanceProvider,null,React.createElement(I18nLaborProvider,null,React.createElement(SizeLaborProvider,null,React.createElement(RequestProvider,null,React.createElement(AuthLaborProvider,null,React.createElement(SafeAreaProvider,null,React.createElement(ThemeLaborProvider,null,React.createElement(ThemeLaborContext.Consumer,null,function(_ref){var theme=_ref.theme;return React.createElement(React.Fragment,null,React.createElement(StatusBar,{backgroundColor:Platform.OS==='android'?theme.colors.background:'',barStyle:theme.dark?'light-content':'dark-content'}),React.createElement(NavigatorTree,{theme:theme,fallback:React.createElement(Text,null,t(\"sys.navigationFallback\")),initialState:navInitialStateMemorized,onStateChange:function onStateChange(state){return AsyncStorage.setItem(BunnyConstants.NAV_STATE_PERSISTENCE_KEY,JSON.stringify(state));}}),React.createElement(Sys,null),React.createElement(RequestLoading,null),React.createElement(BLToast,null));})))))))):React.createElement(Preparing,null);}export default App;","map":null,"metadata":{},"sourceType":"module"}