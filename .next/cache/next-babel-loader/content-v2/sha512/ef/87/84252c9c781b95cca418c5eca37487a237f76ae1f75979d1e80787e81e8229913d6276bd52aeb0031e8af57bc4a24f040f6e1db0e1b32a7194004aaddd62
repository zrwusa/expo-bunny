{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState}from'react';import{ButtonTO,InButtonText,Text,View}from\"../UI\";import{useRequest}from\"../../providers/request-labor\";import{useDispatch}from'react-redux';import{collectSysError,saveQuickAlertSettings}from\"../../store/actions\";import{bunnyAPI}from\"../../helpers/bunny-api\";function DemoRequest(props){var request=useRequest();var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setEmployees=_useState2[1];var granularity=0.0001;var expoPushToken='ExponentPushToken[oT1TDBCO7jtDytecDBmKWW]';var saveAlertSetting=function saveAlertSetting(){return _regeneratorRuntime.async(function saveAlertSetting$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(request.post('/api/push-service/alert-settings',{toke:expoPushToken}));case 3:_context.next=7;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);case 7:case\"end\":return _context.stop();}}},null,null,[[0,5]],Promise);};var handleSaveQuickAlertSettings=function handleSaveQuickAlertSettings(){return _regeneratorRuntime.async(function handleSaveQuickAlertSettings$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(saveQuickAlertSettings({token:expoPushToken,granularity:granularity,reminder:{times:3,interval:'1s'}}));case 1:case\"end\":return _context2.stop();}}},null,null,null,Promise);};var getEmployees=function getEmployees(){var res;return _regeneratorRuntime.async(function getEmployees$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _regeneratorRuntime.awrap(bunnyAPI.get(\"/employees\"));case 3:res=_context3.sent;setEmployees(res.data);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch(collectSysError(_context3.t0.toString()));case 10:case\"end\":return _context3.stop();}}},null,null,[[0,7]],Promise);};var buttonTitle=props.buttonTitle;return React.createElement(View,null,React.createElement(Text,null,props.title),React.createElement(ButtonTO,{onPress:function _callee(){return _regeneratorRuntime.async(function _callee$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(getEmployees());case 2:case\"end\":return _context4.stop();}}},null,null,null,Promise);}},React.createElement(InButtonText,null,buttonTitle)),React.createElement(View,null,employees&&employees.length>0?employees.map(function(employee){return React.createElement(Text,{key:employee._id},employee.email);}):null));}export default DemoRequest;","map":null,"metadata":{},"sourceType":"module"}