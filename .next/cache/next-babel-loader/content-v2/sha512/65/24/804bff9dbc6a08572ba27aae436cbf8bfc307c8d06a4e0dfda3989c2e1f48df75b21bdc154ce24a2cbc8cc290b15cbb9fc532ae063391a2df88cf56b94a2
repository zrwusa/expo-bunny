{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _jsxFileName=\"/Users/revone/projects/expo-react-bunny/src/components/ScalableImage/ScalableImage.tsx\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import Image from\"react-native-web/dist/exports/Image\";export var ScaledImage=function(_React$PureComponent){_inherits(ScaledImage,_React$PureComponent);var _super=_createSuper(ScaledImage);function ScaledImage(props){var _this;_classCallCheck(this,ScaledImage);_this=_super.call(this,props);_this.state={source:{uri:_this.props.uri},width:0,height:0};return _this;}_createClass(ScaledImage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var uri=this.props.uri;var propWidth=this.props.width;var propHeight=this.props.height;Image.getSize(uri,function(width,height){if(propWidth&&!propHeight){_this2.setState({width:propWidth,height:height*(propWidth/width)});}else if(!propWidth&&propHeight){_this2.setState({width:width*(propHeight/height),height:propHeight});}else{_this2.setState({width:width,height:height});}},function(error){throw error;});}},{key:\"render\",value:function render(){var style=this.props.style;var _this$state=this.state,source=_this$state.source,height=_this$state.height,width=_this$state.width;return React.createElement(Image,{source:source,style:[style,{height:height,width:width}],__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:16}});}}]);return ScaledImage;}(React.PureComponent);","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/src/components/ScalableImage/ScalableImage.tsx"],"names":["ScaledImage","React","source","uri","width","height","propWidth","propHeight","Image","style"],"mappings":"+mCAAA,MAAO,GAAP,CAAA,KAAA,KAAA,OAAA,C,uDAgBA,MAAA,IAAaA,CAAAA,WAAb,CAAA,SAAA,oBAAA,CAAA,CAAA,SAAA,CAAA,WAAA,CAAA,oBAAA,CAAA,CAAA,GAAA,CAAA,MAAA,CAAA,YAAA,CAAA,WAAA,CAAA,CACI,QAAA,CAAA,WAAA,CAAA,KAAA,CAAuC,CAAA,GAAA,CAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA,WAAA,CAAA,CACnC,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CACA,KAAA,CAAA,KAAA,CAAa,CACTE,MAAM,CAAE,CAACC,GAAG,CAAE,KAAA,CAAA,KAAA,CAAWA,GAAjB,CADC,CAETC,KAAK,CAFI,CAAA,CAGTC,MAAM,CAAE,CAHC,CAAb,CAFmC,MAAA,CAAA,KAAA,CAOtC,CARL,YAAA,CAAA,WAAA,CAAA,CAAA,CAAA,GAAA,CAAA,mBAAA,CAAA,KAAA,CAUI,QAAA,CAAA,iBAAA,EAAoB,CAAA,GAAA,CAAA,MAAA,CAAA,IAAA,CAChB,GAAOF,CAAAA,GAAP,CAAc,KAAd,KAAc,CAAd,GAAA,CACA,GAAMG,CAAAA,SAAS,CAAG,KAAA,KAAA,CAAlB,KAAA,CACA,GAAMC,CAAAA,UAAU,CAAG,KAAA,KAAA,CAAnB,MAAA,CAoBAC,KAAK,CAALA,OAAAA,CAAAA,GAAAA,CAAmB,SAAA,KAAA,CAAA,MAAA,CAAmB,CAClC,GAAIF,SAAS,EAAI,CAAjB,UAAA,CAA8B,CAC1B,MAAI,CAAJ,QAAA,CAAc,CAACF,KAAK,CAAN,SAAA,CAAmBC,MAAM,CAAEA,MAAM,EAAIC,SAAS,CAAb,KAAA,CAAjC,CAAd,EADJ,CAAA,IAEO,IAAI,CAAA,SAAA,EAAJ,UAAA,CAA8B,CACjC,MAAI,CAAJ,QAAA,CAAc,CAACF,KAAK,CAAEA,KAAK,EAAIG,UAAU,CAA3B,MAAa,CAAb,CAAuCF,MAAM,CAAEE,UAA/C,CAAd,EADG,CAAA,IAEA,CACH,MAAI,CAAJ,QAAA,CAAc,CAACH,KAAK,CAAN,KAAA,CAAeC,MAAM,CAAEA,MAAvB,CAAd,EACH,CAPLG,CAAAA,CAQG,SAAA,KAAA,CAAW,CACV,KAAA,CAAA,KAAA,CATJA,CAAAA,EAWH,CA5CL,CAAA,CAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CA+CI,QAAA,CAAA,MAAA,EAAS,CACL,GAAOC,CAAAA,KAAP,CAAgB,KAAhB,KAAgB,CAAhB,KAAA,CACA,GAAA,CAAA,WAAA,CAAgC,KAAhC,KAAA,CAAOP,MAAP,CAAA,WAAA,CAAA,MAAA,CAAeG,MAAf,CAAA,WAAA,CAAA,MAAA,CAAuBD,KAAvB,CAAA,WAAA,CAAA,KAAA,CACA,MAAO,CAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAO,MAAM,CAAb,MAAA,CAAuB,KAAK,CAAE,CAAA,KAAA,CAAQ,CAACC,MAAM,CAAP,MAAA,CAAiBD,KAAK,CAAEA,KAAxB,CAAR,CAA9B,CAAA,MAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,QAAA,CAAA,YAAA,CAAA,UAAA,CAAA,EAAA,CAAA,YAAA,CAAA,EAAA,CAAA,CAAA,CAAP,CACH,CAnDL,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,WAAA,CAAA,CAAA,CAAiCH,KAAK,CAAtC,aAAA,CAAA","sourcesContent":["import * as React from 'react';\nimport {Image, ImageStyle, StyleProp} from 'react-native';\n\nexport interface ScalableImageProps {\n    uri: string;\n    width?: number;\n    height?: number;\n    style?: StyleProp<ImageStyle>;\n}\n\ninterface ScalableImageState {\n    source: {};\n    width: number;\n    height: number;\n}\n\nexport class ScaledImage extends React.PureComponent<ScalableImageProps, ScalableImageState> {\n    constructor(props: ScalableImageProps) {\n        super(props);\n        this.state = {\n            source: {uri: this.props.uri},\n            width: 0,\n            height: 0,\n        };\n    }\n\n    componentDidMount() {\n        const {uri} = this.props;\n        const propWidth = this.props.width;\n        const propHeight = this.props.height;\n\n        // const ratio = 9 / 16\n        // if (propWidth) {\n        //     this.setState({\n        //         width: propWidth,\n        //         height: propWidth / ratio\n        //     })\n        // } else if (propHeight) {\n        //     this.setState({\n        //         width: propHeight * ratio,\n        //         height: propHeight\n        //     })\n        // } else {\n        //     this.setState({\n        //         width: 100,\n        //         height: 100 / ratio\n        //     })\n        // }\n\n        Image.getSize(uri, (width, height) => {\n            if (propWidth && !propHeight) {\n                this.setState({width: propWidth, height: height * (propWidth / width)});\n            } else if (!propWidth && propHeight) {\n                this.setState({width: width * (propHeight / height), height: propHeight});\n            } else {\n                this.setState({width: width, height: height});\n            }\n        }, (error) => {\n            throw error;\n        });\n    }\n\n\n    render() {\n        const {style} = this.props;\n        const {source, height, width} = this.state;\n        return <Image source={source} style={[style, {height: height, width: width}]}/>;\n    }\n}\n\n\n// import {useEffect, useState} from \"react\";\n\n// export function ScaledImage(props: ScalableImageProps) {\n//     const [width, setWidth] = useState(0)\n//     const [height, setHeight] = useState(0)\n//     const [uri, setURI] = useState('')\n//\n//     useEffect(() => {\n//         setURI(props.uri)\n//         Image.getSize(props.uri, (width, height) => {\n//             if (props.width && !props.height) {\n//                 setWidth(props.width)\n//                 setHeight(height * (props.width / width))\n//             } else if (!props.width && props.height) {\n//                 setWidth(width * (props.height / height))\n//                 setHeight(props.height)\n//             } else {\n//                 setWidth(width)\n//                 setHeight(height)\n//             }\n//         }, (error) => {\n//             throw error\n//         })\n//     }, [])\n//\n//     return <Image source={{uri: uri}} style={[props.style, {height: height, width: width}]}/>\n//     // return <Image source={{uri:props.uri}} style={{width:100,height:100}} />\n//\n// }\n"]},"metadata":{},"sourceType":"module"}