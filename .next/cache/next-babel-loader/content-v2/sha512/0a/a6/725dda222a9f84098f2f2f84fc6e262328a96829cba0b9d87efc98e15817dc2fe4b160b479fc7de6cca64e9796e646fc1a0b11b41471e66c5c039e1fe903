{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as React from'react';import{useEffect,useState}from'react';import AsyncStorage from'@react-native-async-storage/async-storage';import BunnyConstants from\"../../constants/constants\";import*as localization from'expo-localization';import{I18nLaborContext}from\"./I18nLaborContext\";import i18next from\"./i18next\";import{Preparing}from\"../../components/Preparing\";import{useTranslation}from'react-i18next';import{shortenTFunctionKey}from\"./shorten-t-function-key\";export var I18nLaborProvider=function I18nLaborProvider(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isReady=_useState2[0],setIsReady=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var st=shortenTFunctionKey(t,\"sys\");var children=props.children,i18n=props.i18n;var i18nValue=i18n||i18next;useEffect(function(){var bootstrapAsync=function bootstrapAsync(){var language,lang;return _regeneratorRuntime.async(function bootstrapAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem(BunnyConstants.LANGUAGE_TYPE_PERSISTENCE_KEY));case 2:language=_context.sent;lang=language||localization.locale.substring(0,2);_context.t0=lang;if(!_context.t0){_context.next=8;break;}_context.next=8;return _regeneratorRuntime.awrap(i18nValue.changeLanguage(lang));case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);};bootstrapAsync().then(function(){setIsReady(true);});},[]);return isReady?React.createElement(I18nLaborContext.Provider,{value:i18next},children):React.createElement(Preparing,{text:st(\"I18nProviderLoading\")});};","map":null,"metadata":{},"sourceType":"module"}