{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"renderAvatar\"];function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import BunnyAvatar from\"./BunnyAvatar\";import{isSameDay,isSameUser}from\"./utils\";import{withBunnyKit}from\"../../hooks/bunny-kit\";var makeStyles=function makeStyles(sizeLabor,themeLabor){var wp=sizeLabor.designsBasedOn.iphoneX.wp;return{left:StyleSheet.create({container:{marginRight:wp(8)},onTop:{alignSelf:'flex-start'},onBottom:{},image:{height:wp(36),width:wp(36),borderRadius:wp(18)}}),right:StyleSheet.create({container:{marginLeft:wp(8)},onTop:{alignSelf:'flex-start'},onBottom:{},image:{height:wp(36),width:wp(36),borderRadius:wp(18)}})};};var ChatAvatar=function(_React$Component){_inherits(ChatAvatar,_React$Component);var _super=_createSuper(ChatAvatar);function ChatAvatar(){_classCallCheck(this,ChatAvatar);return _super.apply(this,arguments);}_createClass(ChatAvatar,[{key:\"renderAvatar\",value:function renderAvatar(){var _this=this;if(this.props.renderAvatar){var _this$props=this.props,_renderAvatar=_this$props.renderAvatar,avatarProps=_objectWithoutProperties(_this$props,_excluded);return this.props.renderAvatar(avatarProps);}if(this.props.currentMessage){var _this$props$bunnyKit=this.props.bunnyKit,sizeLabor=_this$props$bunnyKit.sizeLabor,themeLabor=_this$props$bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return React.createElement(BunnyAvatar,{avatarStyle:[styles[this.props.position].image,this.props.avatarImageStyle&&this.props.avatarImageStyle[this.props.position]],textStyle:this.props.avatarTextStyle?this.props.avatarTextStyle:{},user:this.props.currentMessage.user,onPress:function onPress(){return _this.props.onPressAvatar&&_this.props.onPressAvatar(_this.props.currentMessage.user);},onLongPress:function onLongPress(){return _this.props.onLongPressAvatar&&_this.props.onLongPressAvatar(_this.props.currentMessage.user);}});}return null;}},{key:\"render\",value:function render(){var _this$props2=this.props,renderAvatarOnTop=_this$props2.renderAvatarOnTop,showAvatarForEveryMessage=_this$props2.showAvatarForEveryMessage,avatarContainerStyle=_this$props2.avatarContainerStyle,position=_this$props2.position,currentMessage=_this$props2.currentMessage,renderAvatar=_this$props2.renderAvatar,previousMessage=_this$props2.previousMessage,nextMessage=_this$props2.nextMessage,avatarImageStyle=_this$props2.avatarImageStyle;var messageToCompare=renderAvatarOnTop?previousMessage:nextMessage;var computedStyle=renderAvatarOnTop?'onTop':'onBottom';if(renderAvatar===null){return null;}var _this$props$bunnyKit2=this.props.bunnyKit,sizeLabor=_this$props$bunnyKit2.sizeLabor,themeLabor=_this$props$bunnyKit2.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);if(!showAvatarForEveryMessage&&currentMessage&&messageToCompare&&isSameUser(currentMessage,messageToCompare)&&isSameDay(currentMessage,messageToCompare)){return React.createElement(View,{style:[styles[position].container,avatarContainerStyle&&avatarContainerStyle[position]]},React.createElement(BunnyAvatar,{avatarStyle:[styles[position].image,avatarImageStyle&&avatarImageStyle[position]]}));}return React.createElement(View,{style:[styles[position].container,styles[position][computedStyle],avatarContainerStyle&&avatarContainerStyle[position]]},this.renderAvatar());}}]);return ChatAvatar;}(React.Component);ChatAvatar.defaultProps={renderAvatarOnTop:false,showAvatarForEveryMessage:false,position:'left',currentMessage:undefined,previousMessage:undefined,nextMessage:undefined,avatarContainerStyle:{},avatarImageStyle:{},onPressAvatar:function onPressAvatar(){},onLongPressAvatar:function onLongPressAvatar(){}};export default withBunnyKit(ChatAvatar);","map":null,"metadata":{},"sourceType":"module"}