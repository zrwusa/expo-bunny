{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as React from'react';import{useCallback,useEffect,useMemo,useState}from'react';import FlatList from\"react-native-web/dist/exports/FlatList\";import Platform from\"react-native-web/dist/exports/Platform\";import RefreshControl from\"react-native-web/dist/exports/RefreshControl\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import{IncrementId}from\"../../../utils\";import{SocialMediaVideoCard}from\"../../../components/SocialMediaVideoCard\";import{isLoaded,useFirebase,useFirestoreConnect}from'react-redux-firebase';import{useSelector}from'react-redux';import{Preparing}from\"../../../components/Preparing\";export function SocialMediaHomeScreen(){var firebase=useFirebase();useFirestoreConnect([{collection:'socialMediaVideos'}]);var socialMediaVideos=useSelector(function(rootState){return rootState.firestoreState.ordered.socialMediaVideos;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mannyCardData=_useState2[0],setMannyCardData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),refreshing=_useState4[0],setRefreshing=_useState4[1];var onRefresh=useCallback(function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setRefreshing(true);return _context.abrupt(\"return\",setRefreshing(false));case 2:case\"end\":return _context.stop();}}},null,null,null,Promise);},[]);var memoizedSocialMediaVideos=useMemo(function(){if(socialMediaVideos&&socialMediaVideos.length>0){return socialMediaVideos.map(function(item){return item;});}return[];},[socialMediaVideos]);useEffect(function(){},[]);useEffect(function(){var cardData5Items=memoizedSocialMediaVideos;var mannyCardData=[];var cardIncrementId=new IncrementId('card-');var commentIncrementId=new IncrementId('comment-');for(var i=0;i<10;i++){for(var _iterator=_createForOfIteratorHelperLoose(cardData5Items),_step;!(_step=_iterator()).done;){var card=_step.value;var newCard=_objectSpread(_objectSpread({},card),{},{comments:[],id:cardIncrementId.getId()});for(var _iterator2=_createForOfIteratorHelperLoose(card.comments),_step2;!(_step2=_iterator2()).done;){var comment=_step2.value;var newComment=_objectSpread(_objectSpread({},comment),{},{id:commentIncrementId.getId()});newCard.comments.push(newComment);}mannyCardData.push(newCard);}}setMannyCardData(mannyCardData);},[memoizedSocialMediaVideos]);return React.createElement(SafeAreaView,{style:{flex:1}},isLoaded(socialMediaVideos)?React.createElement(FlatList,{data:mannyCardData,renderItem:function renderItem(_ref){var item=_ref.item;return React.createElement(SocialMediaVideoCard,{card:item});},keyExtractor:function keyExtractor(item){return item.id;},refreshControl:React.createElement(RefreshControl,{refreshing:refreshing,onRefresh:onRefresh}),initialNumToRender:3,windowSize:5,removeClippedSubviews:Platform.OS==='android',onEndReached:function onEndReached(){console.log('onEndReached');}}):React.createElement(Preparing,null));}","map":null,"metadata":{},"sourceType":"module"}