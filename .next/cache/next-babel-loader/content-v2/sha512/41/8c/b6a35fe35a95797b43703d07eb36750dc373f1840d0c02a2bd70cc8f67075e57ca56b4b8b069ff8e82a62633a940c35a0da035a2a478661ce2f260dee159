{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _jsxFileName=\"/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/Bubble.tsx\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Clipboard from\"react-native-web/dist/exports/Clipboard\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import View from\"react-native-web/dist/exports/View\";import QuickReplies from\"./QuickReplies\";import MessageText from\"./MessageText\";import MessageImage from\"./MessageImage\";import MessageVideo from\"./MessageVideo\";import MessageAudio from\"./MessageAudio\";import Time from\"./Time\";import{isSameDay,isSameUser}from\"./utils\";import MessageSticker from\"./MessageSticker\";import{withBunnyKit}from\"../../hooks/bunny-kit\";import{connectActionSheet}from\"../../../packages/react-native-action-sheet/src\";var makeStyles=function makeStyles(sizeLabor,themeLabor){var wp=sizeLabor.designsBasedOn.iphoneX.wp;var colors=themeLabor.theme.colors;return{left:StyleSheet.create({container:{flex:1,alignItems:'flex-start'},wrapper:{borderRadius:wp(15),backgroundColor:colors.backgroundA,marginRight:wp(60),minHeight:wp(20),justifyContent:'flex-end'},containerToNext:{borderBottomLeftRadius:wp(3)},containerToPrevious:{borderTopLeftRadius:wp(3)},bottom:{flexDirection:'row',justifyContent:'flex-start'}}),right:StyleSheet.create({container:{flex:1,alignItems:'flex-end'},wrapper:{borderRadius:wp(15),backgroundColor:colors.backgroundB,marginLeft:wp(60),minHeight:wp(20),justifyContent:'flex-end'},containerToNext:{borderBottomRightRadius:wp(3)},containerToPrevious:{borderTopRightRadius:wp(3)},bottom:{flexDirection:'row',justifyContent:'flex-end'}}),content:StyleSheet.create({tick:{fontSize:wp(10),backgroundColor:colors.transparent,color:colors.textB},tickView:{flexDirection:'row',marginRight:wp(10)},username:{top:wp(-3),left:0,fontSize:wp(12),backgroundColor:'transparent',color:'#aaa'},usernameView:{flexDirection:'row',marginHorizontal:wp(10)}})};};var DEFAULT_OPTION_TITLES=['Copy Text','Cancel'];var Bubble=function(_React$Component){_inherits(Bubble,_React$Component);var _super=_createSuper(Bubble);function Bubble(){var _this;_classCallCheck(this,Bubble);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onPress=function(){if(_this.props.onPress){_this.props.onPress(_this.context,_this.props.currentMessage);}};_this.onLongPress=function(){var currentMessage=_this.props.currentMessage;if(_this.props.onLongPress){_this.props.onLongPress(_this.context,_this.props.currentMessage);}else if(currentMessage&&currentMessage.text){var textLongPressOptionTitles=_this.props.textLongPressOptionTitles;var options=textLongPressOptionTitles&&textLongPressOptionTitles.length>0?textLongPressOptionTitles.slice(0,2):DEFAULT_OPTION_TITLES;var cancelButtonIndex=options.length-1;_this.props.showActionSheetWithOptions({options:options,cancelButtonIndex:cancelButtonIndex},function(buttonIndex){switch(buttonIndex){case 0:Clipboard.setString(currentMessage.text);break;default:break;}});}};return _this;}_createClass(Bubble,[{key:\"styledBubbleToNext\",value:function styledBubbleToNext(){var _this$props=this.props,currentMessage=_this$props.currentMessage,nextMessage=_this$props.nextMessage,position=_this$props.position,containerToNextStyle=_this$props.containerToNextStyle,bunnyKit=_this$props.bunnyKit;if(currentMessage&&nextMessage&&position&&isSameUser(currentMessage,nextMessage)&&isSameDay(currentMessage,nextMessage)){var sizeLabor=bunnyKit.sizeLabor,themeLabor=bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return[styles[position].containerToNext,containerToNextStyle&&containerToNextStyle[position]];}return null;}},{key:\"styledBubbleToPrevious\",value:function styledBubbleToPrevious(){var _this$props2=this.props,currentMessage=_this$props2.currentMessage,previousMessage=_this$props2.previousMessage,position=_this$props2.position,containerToPreviousStyle=_this$props2.containerToPreviousStyle,bunnyKit=_this$props2.bunnyKit;if(currentMessage&&previousMessage&&position&&isSameUser(currentMessage,previousMessage)&&isSameDay(currentMessage,previousMessage)){var sizeLabor=bunnyKit.sizeLabor,themeLabor=bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return[styles[position].containerToPrevious,containerToPreviousStyle&&containerToPreviousStyle[position]];}return null;}},{key:\"renderQuickReplies\",value:function renderQuickReplies(){var _this$props3=this.props,currentMessage=_this$props3.currentMessage,nextMessage=_this$props3.nextMessage;if(currentMessage&&currentMessage.quickReplies){var _this$props4=this.props,onQuickReply=_this$props4.onQuickReply,quickRepliesColor=_this$props4.quickRepliesColor,sendText=_this$props4.sendText,keepReplies=_this$props4.keepReplies,renderQuickReplySend=_this$props4.renderQuickReplySend,quickReplyStyle=_this$props4.quickReplyStyle;var quickRepliesProps={currentMessage:currentMessage,nextMessage:nextMessage,onQuickReply:onQuickReply,quickRepliesColor:quickRepliesColor,sendText:sendText,keepReplies:keepReplies,renderQuickReplySend:renderQuickReplySend,quickReplyStyle:quickReplyStyle};if(this.props.renderQuickReplies){return this.props.renderQuickReplies(quickRepliesProps);}return React.createElement(QuickReplies,_extends({},quickRepliesProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:316,columnNumber:17}}));}return null;}},{key:\"renderMessageText\",value:function renderMessageText(){if(this.props.currentMessage&&this.props.currentMessage.text){var _this$props5=this.props,position=_this$props5.position,phoneNumberOptionTitles=_this$props5.phoneNumberOptionTitles,_currentMessage=_this$props5.currentMessage,textContainerStyle=_this$props5.textContainerStyle,textStyle=_this$props5.textStyle,linkStyle=_this$props5.linkStyle,customTextStyle=_this$props5.customTextStyle,textProps=_this$props5.textProps,parsePatterns=_this$props5.parsePatterns,onMessageLoad=_this$props5.onMessageLoad,onMessageLoadStart=_this$props5.onMessageLoadStart,onMessageLoadEnd=_this$props5.onMessageLoadEnd,onMessageReadyForDisplay=_this$props5.onMessageReadyForDisplay,onMessageLoadError=_this$props5.onMessageLoadError,isDebug=_this$props5.isDebug;var messageTextProps={position:position,phoneNumberOptionTitles:phoneNumberOptionTitles,currentMessage:_currentMessage,textContainerStyle:textContainerStyle,textStyle:textStyle,linkStyle:linkStyle,customTextStyle:customTextStyle,textProps:textProps,parsePatterns:parsePatterns,onMessageLoad:onMessageLoad,onMessageLoadStart:onMessageLoadStart,onMessageLoadEnd:onMessageLoadEnd,onMessageReadyForDisplay:onMessageReadyForDisplay,onMessageLoadError:onMessageLoadError,isDebug:isDebug};if(this.props.renderMessageText){return this.props.renderMessageText(messageTextProps);}return React.createElement(MessageText,_extends({},messageTextProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:362,columnNumber:20}}));}return null;}},{key:\"renderMessageImage\",value:function renderMessageImage(){if(this.props.currentMessage&&this.props.currentMessage.image){var _this$props6=this.props,messages=_this$props6.messages,_currentMessage2=_this$props6.currentMessage,imageContainerStyle=_this$props6.imageContainerStyle,imageStyle=_this$props6.imageStyle,imageProps=_this$props6.imageProps,lightBoxProps=_this$props6.lightBoxProps,onMessageLoad=_this$props6.onMessageLoad,onMessageLoadStart=_this$props6.onMessageLoadStart,onMessageLoadEnd=_this$props6.onMessageLoadEnd,onMessageReadyForDisplay=_this$props6.onMessageReadyForDisplay,onMessageLoadError=_this$props6.onMessageLoadError,isDebug=_this$props6.isDebug;var messageImageProps={messages:messages,currentMessage:_currentMessage2,imageContainerStyle:imageContainerStyle,imageStyle:imageStyle,imageProps:imageProps,lightBoxProps:lightBoxProps,onMessageLoad:onMessageLoad,onMessageLoadStart:onMessageLoadStart,onMessageLoadEnd:onMessageLoadEnd,onMessageReadyForDisplay:onMessageReadyForDisplay,onMessageLoadError:onMessageLoadError,isDebug:isDebug};if(this.props.renderMessageImage){return this.props.renderMessageImage(messageImageProps);}return React.createElement(MessageImage,_extends({},messageImageProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:401,columnNumber:20}}));}return null;}},{key:\"renderMessageSticker\",value:function renderMessageSticker(){if(this.props.currentMessage&&this.props.currentMessage.sticker){var _this$props7=this.props,_currentMessage3=_this$props7.currentMessage,stickerContainerStyle=_this$props7.stickerContainerStyle,stickerStyle=_this$props7.stickerStyle,stickerProps=_this$props7.stickerProps,onMessageLoad=_this$props7.onMessageLoad,onMessageLoadStart=_this$props7.onMessageLoadStart,onMessageLoadEnd=_this$props7.onMessageLoadEnd,onMessageReadyForDisplay=_this$props7.onMessageReadyForDisplay,onMessageLoadError=_this$props7.onMessageLoadError,isDebug=_this$props7.isDebug;var messageStickerProps={currentMessage:_currentMessage3,stickerContainerStyle:stickerContainerStyle,stickerStyle:stickerStyle,stickerProps:stickerProps,onMessageLoad:onMessageLoad,onMessageLoadStart:onMessageLoadStart,onMessageLoadEnd:onMessageLoadEnd,onMessageReadyForDisplay:onMessageReadyForDisplay,onMessageLoadError:onMessageLoadError,isDebug:isDebug};if(this.props.renderMessageSticker){return this.props.renderMessageSticker(messageStickerProps);}return React.createElement(MessageSticker,_extends({},messageStickerProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:436,columnNumber:20}}));}return null;}},{key:\"renderMessageVideo\",value:function renderMessageVideo(){if(this.props.currentMessage&&this.props.currentMessage.video){var _this$props8=this.props,_currentMessage4=_this$props8.currentMessage,videoContainerStyle=_this$props8.videoContainerStyle,videoStyle=_this$props8.videoStyle,videoProps=_this$props8.videoProps,onMessageLoad=_this$props8.onMessageLoad,onMessageLoadStart=_this$props8.onMessageLoadStart,onMessageLoadEnd=_this$props8.onMessageLoadEnd,onMessageReadyForDisplay=_this$props8.onMessageReadyForDisplay,onMessageLoadError=_this$props8.onMessageLoadError,isDebug=_this$props8.isDebug;var messageVideoProps={currentMessage:_currentMessage4,videoContainerStyle:videoContainerStyle,videoStyle:videoStyle,videoProps:videoProps,onMessageLoad:onMessageLoad,onMessageLoadStart:onMessageLoadStart,onMessageLoadEnd:onMessageLoadEnd,onMessageReadyForDisplay:onMessageReadyForDisplay,onMessageLoadError:onMessageLoadError,isDebug:isDebug};if(this.props.renderMessageVideo){return this.props.renderMessageVideo(messageVideoProps);}return React.createElement(MessageVideo,_extends({},messageVideoProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:472,columnNumber:20}}));}return null;}},{key:\"renderMessageAudio\",value:function renderMessageAudio(){if(this.props.currentMessage&&this.props.currentMessage.audio){var _this$props9=this.props,_currentMessage5=_this$props9.currentMessage,audioContainerStyle=_this$props9.audioContainerStyle,audioStyle=_this$props9.audioStyle,audioProps=_this$props9.audioProps,onMessageLoad=_this$props9.onMessageLoad,onMessageLoadStart=_this$props9.onMessageLoadStart,onMessageLoadEnd=_this$props9.onMessageLoadEnd,onMessageReadyForDisplay=_this$props9.onMessageReadyForDisplay,onMessageLoadError=_this$props9.onMessageLoadError,isDebug=_this$props9.isDebug,position=_this$props9.position,audioProgressStyle=_this$props9.audioProgressStyle,audioPlayButtonStyle=_this$props9.audioPlayButtonStyle,audioProgressColor=_this$props9.audioProgressColor,audioRemainTimeStyle=_this$props9.audioRemainTimeStyle,audioPlayButtonIconStyle=_this$props9.audioPlayButtonIconStyle;var messageAudioProps={currentMessage:_currentMessage5,audioContainerStyle:audioContainerStyle,audioStyle:audioStyle,audioProps:audioProps,onMessageLoad:onMessageLoad,onMessageLoadStart:onMessageLoadStart,onMessageLoadEnd:onMessageLoadEnd,onMessageReadyForDisplay:onMessageReadyForDisplay,onMessageLoadError:onMessageLoadError,isDebug:isDebug,position:position,audioProgressStyle:audioProgressStyle,audioPlayButtonStyle:audioPlayButtonStyle,audioProgressColor:audioProgressColor,audioRemainTimeStyle:audioRemainTimeStyle,audioPlayButtonIconStyle:audioPlayButtonIconStyle};if(this.props.renderMessageAudio){return this.props.renderMessageAudio(messageAudioProps);}return React.createElement(MessageAudio,_extends({},messageAudioProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:519,columnNumber:20}}));}return null;}},{key:\"renderTicks\",value:function renderTicks(){var _this$props10=this.props,currentMessage=_this$props10.currentMessage,renderTicks=_this$props10.renderTicks,user=_this$props10.user,bunnyKit=_this$props10.bunnyKit;if(renderTicks&&currentMessage){return renderTicks(currentMessage);}if(currentMessage&&user&&currentMessage.user&&currentMessage.user._id!==user._id){return null;}if(currentMessage&&(currentMessage.sent||currentMessage.received||currentMessage.pending)){var sizeLabor=bunnyKit.sizeLabor,themeLabor=bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);var wp=sizeLabor.designsBasedOn.iphoneX.wp;return React.createElement(View,{style:styles.content.tickView,__self:this,__source:{fileName:_jsxFileName,lineNumber:546,columnNumber:17}},!!currentMessage.sent&&React.createElement(Text,{style:[styles.content.tick,this.props.tickStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:548,columnNumber:25}},\"\\u2713\"),!!currentMessage.received&&React.createElement(Text,{style:[styles.content.tick,this.props.tickStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:551,columnNumber:25}},\"\\u2713\"),!!currentMessage.pending&&React.createElement(ActivityIndicator,{color:'white',size:wp(10),__self:this,__source:{fileName:_jsxFileName,lineNumber:555,columnNumber:25}}));}return null;}},{key:\"renderTime\",value:function renderTime(){if(this.props.currentMessage&&this.props.currentMessage.createdAt){var _this$props11=this.props,position=_this$props11.position,_currentMessage6=_this$props11.currentMessage,timeContainerStyle=_this$props11.timeContainerStyle,timeFormat=_this$props11.timeFormat,timeTextStyle=_this$props11.timeTextStyle;var _timeProps={position:position,currentMessage:_currentMessage6,timeContainerStyle:timeContainerStyle,timeFormat:timeFormat,timeTextStyle:timeTextStyle};if(this.props.renderTime){return this.props.renderTime(_timeProps);}return React.createElement(Time,_extends({},_timeProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:582,columnNumber:20}}));}return null;}},{key:\"renderUsername\",value:function renderUsername(){var _this$props12=this.props,currentMessage=_this$props12.currentMessage,user=_this$props12.user,bunnyKit=_this$props12.bunnyKit;if(this.props.renderUsernameOnMessage&&currentMessage){if(user&&currentMessage.user._id===user._id){return null;}var sizeLabor=bunnyKit.sizeLabor,themeLabor=bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return React.createElement(View,{style:styles.content.usernameView,__self:this,__source:{fileName:_jsxFileName,lineNumber:597,columnNumber:17}},React.createElement(Text,{style:[styles.content.username,this.props.usernameStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:598,columnNumber:21}},\"~ \",currentMessage.user.name));}return null;}},{key:\"renderCustomView\",value:function renderCustomView(){if(this.props.renderCustomView){return this.props.renderCustomView(this.props);}return null;}},{key:\"renderBubbleContent\",value:function renderBubbleContent(){return this.props.isCustomViewBottom?React.createElement(View,{__self:this,__source:{fileName:_jsxFileName,lineNumber:620,columnNumber:13}},this.renderMessageImage(),this.renderMessageSticker(),this.renderMessageVideo(),this.renderMessageAudio(),this.renderMessageText(),this.renderCustomView()):React.createElement(View,{__self:this,__source:{fileName:_jsxFileName,lineNumber:629,columnNumber:13}},this.renderCustomView(),this.renderMessageImage(),this.renderMessageSticker(),this.renderMessageVideo(),this.renderMessageAudio(),this.renderMessageText());}},{key:\"render\",value:function render(){var _this$props13=this.props,position=_this$props13.position,bubbleContainerStyle=_this$props13.bubbleContainerStyle,bubbleWrapperStyle=_this$props13.bubbleWrapperStyle,bottomContainerStyle=_this$props13.bottomContainerStyle,bunnyKit=_this$props13.bunnyKit;var sizeLabor=bunnyKit.sizeLabor,themeLabor=bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return React.createElement(View,{style:[styles[position].container,bubbleContainerStyle&&bubbleContainerStyle[position]],__self:this,__source:{fileName:_jsxFileName,lineNumber:651,columnNumber:13}},React.createElement(View,{style:[styles[position].wrapper,this.styledBubbleToNext(),this.styledBubbleToPrevious(),bubbleWrapperStyle&&bubbleWrapperStyle[position]],__self:this,__source:{fileName:_jsxFileName,lineNumber:657,columnNumber:17}},React.createElement(TouchableWithoutFeedback,_extends({onPress:this.onPress,onLongPress:this.onLongPress,accessibilityTraits:\"text\"},this.props.touchableProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:665,columnNumber:21}}),React.createElement(View,{__self:this,__source:{fileName:_jsxFileName,lineNumber:672,columnNumber:25}},this.renderBubbleContent(),React.createElement(View,{style:[styles[position].bottom,bottomContainerStyle&&bottomContainerStyle[position]],__self:this,__source:{fileName:_jsxFileName,lineNumber:674,columnNumber:29}},this.renderUsername(),this.renderTime(),this.renderTicks())))),this.renderQuickReplies());}}]);return Bubble;}(React.Component);Bubble.defaultProps={messages:[],touchableProps:{},onPress:undefined,onLongPress:undefined,renderMessageImage:undefined,renderMessageSticker:undefined,renderMessageVideo:undefined,renderMessageAudio:undefined,renderMessageText:undefined,renderCustomView:undefined,renderUsername:undefined,renderTicks:undefined,renderTime:undefined,renderQuickReplies:undefined,onQuickReply:undefined,onMessageLoad:undefined,onMessageLoadStart:undefined,onMessageLoadEnd:undefined,onMessageLoadError:undefined,position:'left',textLongPressOptionTitles:DEFAULT_OPTION_TITLES,currentMessage:undefined,nextMessage:undefined,previousMessage:undefined,bubbleContainerStyle:{},bubbleWrapperStyle:{},bottomContainerStyle:{},tickStyle:{},usernameStyle:{},containerToNextStyle:{},containerToPreviousStyle:{}};export default withBunnyKit(connectActionSheet(Bubble));","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/Bubble.tsx"],"names":["makeStyles","wp","sizeLabor","colors","themeLabor","left","container","flex","alignItems","wrapper","borderRadius","backgroundColor","marginRight","minHeight","justifyContent","containerToNext","borderBottomLeftRadius","containerToPrevious","borderTopLeftRadius","bottom","flexDirection","right","marginLeft","borderBottomRightRadius","borderTopRightRadius","content","tick","fontSize","color","textB","tickView","username","top","usernameView","marginHorizontal","DEFAULT_OPTION_TITLES","Bubble","React","Component","defaultProps","messages","touchableProps","onPress","onLongPress","renderMessageImage","renderMessageSticker","renderMessageVideo","renderMessageAudio","renderMessageText","renderCustomView","renderUsername","renderTicks","renderTime","renderQuickReplies","onQuickReply","onMessageLoad","onMessageLoadStart","onMessageLoadEnd","onMessageLoadError","position","textLongPressOptionTitles","currentMessage","nextMessage","previousMessage","bubbleContainerStyle","bubbleWrapperStyle","bottomContainerStyle","tickStyle","usernameStyle","containerToNextStyle","containerToPreviousStyle","options","cancelButtonIndex","Clipboard","bunnyKit","isSameUser","isSameDay","styles","quickRepliesColor","sendText","keepReplies","renderQuickReplySend","quickReplyStyle","quickRepliesProps","phoneNumberOptionTitles","textContainerStyle","textStyle","linkStyle","customTextStyle","textProps","parsePatterns","onMessageReadyForDisplay","isDebug","messageTextProps","imageContainerStyle","imageStyle","imageProps","lightBoxProps","messageImageProps","stickerContainerStyle","stickerStyle","stickerProps","messageStickerProps","videoContainerStyle","videoStyle","videoProps","messageVideoProps","audioContainerStyle","audioStyle","audioProps","audioProgressStyle","audioPlayButtonStyle","audioProgressColor","audioRemainTimeStyle","audioPlayButtonIconStyle","messageAudioProps","user","timeContainerStyle","timeFormat","timeTextStyle","timeProps","withBunnyKit","connectActionSheet"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    ActivityIndicator,\n    Clipboard,\n    StyleProp,\n    StyleSheet,\n    Text,\n    TextStyle,\n    TouchableWithoutFeedback,\n    View,\n    ViewStyle,\n} from 'react-native';\n\nimport QuickReplies, {QuickRepliesProps} from './QuickReplies';\n\nimport MessageText, {MessageTextProps} from './MessageText';\nimport MessageImage, {MessageImageProps} from './MessageImage';\nimport MessageVideo, {MessageVideoProps} from './MessageVideo';\nimport MessageAudio, {MessageAudioProps} from './MessageAudio';\n\nimport Time, {TimeProps} from './Time';\n\nimport {isSameDay, isSameUser} from './utils';\nimport {IMessage, LeftRightStyle, PositionLeftOrRight, User,} from './types';\nimport MessageSticker, {MessageStickerProps} from './MessageSticker';\nimport {WithBunnyKit, withBunnyKit} from '../../hooks/bunny-kit';\nimport {ActionSheetProps, connectActionSheet} from '../../../packages/react-native-action-sheet/src';\nimport {SizeLabor, ThemeLabor} from '../../types';\n\nconst makeStyles = (sizeLabor: SizeLabor, themeLabor: ThemeLabor) => {\n    const {wp} = sizeLabor.designsBasedOn.iphoneX;\n    const {theme: {colors}} = themeLabor;\n    return {\n        left: StyleSheet.create({\n            container: {\n                flex: 1,\n                alignItems: 'flex-start',\n            },\n            wrapper: {\n                borderRadius: wp(15),\n                backgroundColor: colors.backgroundA,\n                marginRight: wp(60),\n                minHeight: wp(20),\n                justifyContent: 'flex-end',\n            },\n            containerToNext: {\n                borderBottomLeftRadius: wp(3),\n            },\n            containerToPrevious: {\n                borderTopLeftRadius: wp(3),\n            },\n            bottom: {\n                flexDirection: 'row',\n                justifyContent: 'flex-start',\n            },\n        }),\n        right: StyleSheet.create({\n            container: {\n                flex: 1,\n                alignItems: 'flex-end',\n            },\n            wrapper: {\n                borderRadius: wp(15),\n                backgroundColor: colors.backgroundB,\n                marginLeft: wp(60),\n                minHeight: wp(20),\n                justifyContent: 'flex-end',\n            },\n            containerToNext: {\n                borderBottomRightRadius: wp(3),\n            },\n            containerToPrevious: {\n                borderTopRightRadius: wp(3),\n            },\n            bottom: {\n                flexDirection: 'row',\n                justifyContent: 'flex-end',\n            },\n        }),\n        content: StyleSheet.create({\n            tick: {\n                fontSize: wp(10),\n                backgroundColor: colors.transparent,\n                color: colors.textB,\n            },\n            tickView: {\n                flexDirection: 'row',\n                marginRight: wp(10),\n            },\n            username: {\n                top: wp(-3),\n                left: 0,\n                fontSize: wp(12),\n                backgroundColor: 'transparent',\n                color: '#aaa',\n            },\n            usernameView: {\n                flexDirection: 'row',\n                marginHorizontal: wp(10),\n            },\n        }),\n    };\n};\n\n// TODO need i18n\nconst DEFAULT_OPTION_TITLES = ['Copy Text', 'Cancel'];\n\n\nexport interface BubbleProps<TMessage extends IMessage> extends MessageImageProps<TMessage>,\n    MessageStickerProps<TMessage>,\n    MessageVideoProps<TMessage>,\n    MessageAudioProps<TMessage>,\n    MessageTextProps<TMessage>,\n    QuickRepliesProps<TMessage>,\n    TimeProps<TMessage> {\n\n\n    // position: 'left' | 'right'\n    bubbleContainerStyle?: LeftRightStyle<ViewStyle>\n    bubbleWrapperStyle?: LeftRightStyle<ViewStyle>\n    bottomContainerStyle?: LeftRightStyle<ViewStyle>\n    containerToNextStyle?: LeftRightStyle<ViewStyle>\n    containerToPreviousStyle?: LeftRightStyle<ViewStyle>\n    tickStyle?: StyleProp<TextStyle>\n    previousMessage?: TMessage,\n\n    onPress?(context?: any, message?: any): void\n\n    onLongPress?(context?: any, message?: any): void\n\n    renderMessageImage?(props: MessageImageProps<TMessage>): React.ReactNode\n\n    renderMessageSticker?(props: MessageStickerProps<TMessage>): React.ReactNode\n\n    renderMessageVideo?(props: MessageVideoProps<TMessage>): React.ReactNode\n\n    renderMessageAudio?(props: MessageAudioProps<TMessage>): React.ReactNode\n\n    renderMessageText?(props: MessageTextProps<TMessage>): React.ReactNode\n\n    renderCustomView?(bubbleProps: BubbleProps<TMessage>): React.ReactNode\n\n    renderTime?(timeProps: TimeProps<TMessage>): React.ReactNode\n\n    renderTicks?(currentMessage: TMessage): React.ReactNode\n\n    // TODO not implement\n    // renderUsername?(): React.ReactNode\n\n    // renderQuickReplySend?(): React.ReactNode\n\n    renderQuickReplies?(quickReplies: QuickRepliesProps<TMessage>): React.ReactNode\n\n    user?: User\n    renderUsernameOnMessage?: boolean\n    isCustomViewBottom?: boolean\n    usernameStyle?: TextStyle\n    touchableProps?: object\n\n    textLongPressOptionTitles?: string[]\n}\n\nclass Bubble<TMessage extends IMessage> extends React.Component<BubbleProps<TMessage> & ActionSheetProps & WithBunnyKit> {\n\n    static defaultProps = {\n        messages: [],\n        touchableProps: {},\n        onPress: undefined,\n        onLongPress: undefined,\n        renderMessageImage: undefined,\n        renderMessageSticker: undefined,\n        renderMessageVideo: undefined,\n        renderMessageAudio: undefined,\n        renderMessageText: undefined,\n        renderCustomView: undefined,\n        renderUsername: undefined,\n        renderTicks: undefined,\n        renderTime: undefined,\n        renderQuickReplies: undefined,\n        onQuickReply: undefined,\n        onMessageLoad: undefined,\n        onMessageLoadStart: undefined,\n        onMessageLoadEnd: undefined,\n        onMessageLoadError: undefined,\n\n        position: 'left' as PositionLeftOrRight,\n        textLongPressOptionTitles: DEFAULT_OPTION_TITLES,\n        currentMessage: undefined,\n        nextMessage: undefined,\n        previousMessage: undefined,\n        bubbleContainerStyle: {},\n        bubbleWrapperStyle: {},\n        bottomContainerStyle: {},\n        tickStyle: {},\n        usernameStyle: {},\n        containerToNextStyle: {},\n        containerToPreviousStyle: {},\n    };\n\n\n    onPress = () => {\n        if (this.props.onPress) {\n            this.props.onPress(this.context, this.props.currentMessage);\n        }\n    };\n\n    onLongPress = () => {\n        const {currentMessage} = this.props;\n        if (this.props.onLongPress) {\n            this.props.onLongPress(this.context, this.props.currentMessage);\n        } else if (currentMessage && currentMessage.text) {\n            const {textLongPressOptionTitles} = this.props;\n            const options =\n                textLongPressOptionTitles && textLongPressOptionTitles.length > 0\n                    ? textLongPressOptionTitles.slice(0, 2)\n                    : DEFAULT_OPTION_TITLES;\n            const cancelButtonIndex = options.length - 1;\n            this.props.showActionSheetWithOptions(\n                {\n                    options,\n                    cancelButtonIndex,\n                },\n                (buttonIndex: number) => {\n                    switch (buttonIndex) {\n                        case 0:\n                            Clipboard.setString(currentMessage.text);\n                            break;\n                        default:\n                            break;\n                    }\n                },\n            );\n        }\n    };\n\n    styledBubbleToNext() {\n        const {\n            currentMessage,\n            nextMessage,\n            position,\n            containerToNextStyle,\n            bunnyKit,\n        } = this.props;\n\n        if (\n            currentMessage &&\n            nextMessage &&\n            position &&\n            isSameUser(currentMessage, nextMessage) &&\n            isSameDay(currentMessage, nextMessage)\n        ) {\n            const {sizeLabor, themeLabor} = bunnyKit;\n            const styles = makeStyles(sizeLabor, themeLabor);\n            return [\n                styles[position].containerToNext,\n                containerToNextStyle && containerToNextStyle[position],\n            ];\n        }\n        return null;\n    }\n\n    styledBubbleToPrevious() {\n        const {\n            currentMessage,\n            previousMessage,\n            position,\n            containerToPreviousStyle,\n            bunnyKit\n        } = this.props;\n        if (\n            currentMessage &&\n            previousMessage &&\n            position &&\n            isSameUser(currentMessage, previousMessage) &&\n            isSameDay(currentMessage, previousMessage)\n        ) {\n            const {sizeLabor, themeLabor} = bunnyKit;\n            const styles = makeStyles(sizeLabor, themeLabor);\n            return [\n                styles[position].containerToPrevious,\n                containerToPreviousStyle && containerToPreviousStyle[position],\n            ];\n        }\n        return null;\n    }\n\n    renderQuickReplies() {\n        const {\n            currentMessage,\n            nextMessage,\n        } = this.props;\n        if (currentMessage && currentMessage.quickReplies) {\n            const {\n                onQuickReply,\n                quickRepliesColor,\n                sendText,\n                keepReplies,\n                renderQuickReplySend,\n                quickReplyStyle\n            } = this.props;\n\n            const quickRepliesProps = {\n                currentMessage,\n                nextMessage,\n                onQuickReply,\n                quickRepliesColor,\n                sendText,\n                keepReplies,\n                renderQuickReplySend,\n                quickReplyStyle\n            };\n            if (this.props.renderQuickReplies) {\n                return this.props.renderQuickReplies(quickRepliesProps);\n            }\n            return (\n                <QuickReplies<TMessage> {...quickRepliesProps} />\n                // <QuickReplies {...quickRepliesProps} />\n            );\n        }\n        return null;\n    }\n\n    renderMessageText() {\n        if (this.props.currentMessage && this.props.currentMessage.text) {\n            const {\n                position,\n                phoneNumberOptionTitles,\n                currentMessage,\n                textContainerStyle,\n                textStyle,\n                linkStyle,\n                customTextStyle,\n                textProps,\n                parsePatterns,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug,\n            } = this.props;\n            const messageTextProps = {\n                position,\n                phoneNumberOptionTitles,\n                currentMessage,\n                textContainerStyle,\n                textStyle,\n                linkStyle,\n                customTextStyle,\n                textProps,\n                parsePatterns,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug,\n            };\n            if (this.props.renderMessageText) {\n                return this.props.renderMessageText(messageTextProps);\n            }\n            return <MessageText<TMessage> {...messageTextProps} />;\n            // return <MessageText {...messageTextProps} />\n        }\n        return null;\n    }\n\n    renderMessageImage() {\n        if (this.props.currentMessage && this.props.currentMessage.image) {\n            const {\n                messages,\n                currentMessage,\n                imageContainerStyle,\n                imageStyle,\n                imageProps,\n                lightBoxProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            } = this.props;\n            const messageImageProps = {\n                messages,\n                currentMessage,\n                imageContainerStyle,\n                imageStyle,\n                imageProps,\n                lightBoxProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            };\n            if (this.props.renderMessageImage) {\n                return this.props.renderMessageImage(messageImageProps);\n            }\n            return <MessageImage<TMessage> {...messageImageProps} />;\n            // return <MessageImage {...messageImageProps} />\n        }\n        return null;\n    }\n\n    renderMessageSticker() {\n        if (this.props.currentMessage && this.props.currentMessage.sticker) {\n            const {\n                currentMessage,\n                stickerContainerStyle,\n                stickerStyle,\n                stickerProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            } = this.props;\n            const messageStickerProps = {\n                currentMessage,\n                stickerContainerStyle,\n                stickerStyle,\n                stickerProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            };\n            if (this.props.renderMessageSticker) {\n                return this.props.renderMessageSticker(messageStickerProps);\n            }\n            return <MessageSticker<TMessage> {...messageStickerProps} />;\n            // return <MessageSticker {...messageStickerProps} />\n        }\n        return null;\n    }\n\n    renderMessageVideo() {\n        if (this.props.currentMessage && this.props.currentMessage.video) {\n            // const {bubbleContainerStyle, bubbleWrapperStyle, ...messageVideoProps} = this.props\n            const {\n                currentMessage,\n                videoContainerStyle,\n                videoStyle,\n                videoProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            } = this.props;\n            const messageVideoProps = {\n                currentMessage,\n                videoContainerStyle,\n                videoStyle,\n                videoProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug\n            };\n            if (this.props.renderMessageVideo) {\n                return this.props.renderMessageVideo(messageVideoProps);\n            }\n            return <MessageVideo<TMessage> {...messageVideoProps} />;\n            // return <MessageVideo {...messageVideoProps} />\n        }\n        return null;\n    }\n\n    renderMessageAudio() {\n        if (this.props.currentMessage && this.props.currentMessage.audio) {\n            const {\n                currentMessage,\n                audioContainerStyle,\n                audioStyle,\n                audioProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug,\n                position,\n                audioProgressStyle,\n                audioPlayButtonStyle,\n                audioProgressColor,\n                audioRemainTimeStyle,\n                audioPlayButtonIconStyle,\n            } = this.props;\n            const messageAudioProps = {\n                currentMessage,\n                audioContainerStyle,\n                audioStyle,\n                audioProps,\n                onMessageLoad,\n                onMessageLoadStart,\n                onMessageLoadEnd,\n                onMessageReadyForDisplay,\n                onMessageLoadError,\n                isDebug,\n                position,\n                audioProgressStyle,\n                audioPlayButtonStyle,\n                audioProgressColor,\n                audioRemainTimeStyle,\n                audioPlayButtonIconStyle,\n            };\n            if (this.props.renderMessageAudio) {\n                return this.props.renderMessageAudio(messageAudioProps);\n            }\n            return <MessageAudio<TMessage> {...messageAudioProps} />;\n            // return <MessageAudio {...messageAudioProps} />\n        }\n        return null;\n    }\n\n    renderTicks() {\n        const {currentMessage, renderTicks, user, bunnyKit} = this.props;\n        if (renderTicks && currentMessage) {\n            return renderTicks(currentMessage);\n        }\n        if (\n            currentMessage &&\n            user &&\n            currentMessage.user &&\n            currentMessage.user._id !== user._id\n        ) {\n            return null;\n        }\n        if (\n            currentMessage &&\n            (currentMessage.sent || currentMessage.received || currentMessage.pending)\n        ) {\n            const {sizeLabor, themeLabor} = bunnyKit;\n            const styles = makeStyles(sizeLabor, themeLabor);\n            const {wp} = sizeLabor.designsBasedOn.iphoneX;\n            return (\n                <View style={styles.content.tickView}>\n                    {!!currentMessage.sent && (\n                        <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n                    )}\n                    {!!currentMessage.received && (\n                        <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n                    )}\n                    {!!currentMessage.pending && (\n                        // <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n                        <ActivityIndicator color={'white'} size={wp(10)}/>\n                    )}\n                </View>\n            );\n        }\n        return null;\n    }\n\n    renderTime() {\n        if (this.props.currentMessage && this.props.currentMessage.createdAt) {\n            const {\n                position,\n                currentMessage,\n                timeContainerStyle,\n                timeFormat,\n                timeTextStyle\n            } = this.props;\n            const timeProps = {\n                position,\n                currentMessage,\n                timeContainerStyle,\n                timeFormat,\n                timeTextStyle\n            };\n            if (this.props.renderTime) {\n                return this.props.renderTime(timeProps);\n            }\n            return <Time<TMessage> {...timeProps} />;\n            // return <Time {...timeProps} />\n        }\n        return null;\n    }\n\n    renderUsername() {\n        const {currentMessage, user, bunnyKit} = this.props;\n        if (this.props.renderUsernameOnMessage && currentMessage) {\n            if (user && currentMessage.user._id === user._id) {\n                return null;\n            }\n            const {sizeLabor, themeLabor} = bunnyKit;\n            const styles = makeStyles(sizeLabor, themeLabor);\n            return (\n                <View style={styles.content.usernameView}>\n                    <Text\n                        style={\n                            [styles.content.username, this.props.usernameStyle] as TextStyle\n                        }\n                    >\n                        ~ {currentMessage.user.name}\n                    </Text>\n                </View>\n            );\n        }\n        return null;\n    }\n\n    renderCustomView() {\n        if (this.props.renderCustomView) {\n            return this.props.renderCustomView(this.props);\n        }\n        return null;\n    }\n\n    renderBubbleContent() {\n        return this.props.isCustomViewBottom ? (\n            <View>\n                {this.renderMessageImage()}\n                {this.renderMessageSticker()}\n                {this.renderMessageVideo()}\n                {this.renderMessageAudio()}\n                {this.renderMessageText()}\n                {this.renderCustomView()}\n            </View>\n        ) : (\n            <View>\n                {this.renderCustomView()}\n                {this.renderMessageImage()}\n                {this.renderMessageSticker()}\n                {this.renderMessageVideo()}\n                {this.renderMessageAudio()}\n                {this.renderMessageText()}\n            </View>\n        );\n    }\n\n    render() {\n        const {\n            position,\n            bubbleContainerStyle,\n            bubbleWrapperStyle,\n            bottomContainerStyle,\n            bunnyKit\n        } = this.props;\n        const {sizeLabor, themeLabor} = bunnyKit;\n        const styles = makeStyles(sizeLabor, themeLabor);\n        return (\n            <View\n                style={[\n                    styles[position].container,\n                    bubbleContainerStyle && bubbleContainerStyle[position],\n                ]}\n            >\n                <View\n                    style={[\n                        styles[position].wrapper,\n                        this.styledBubbleToNext(),\n                        this.styledBubbleToPrevious(),\n                        bubbleWrapperStyle && bubbleWrapperStyle[position],\n                    ]}\n                >\n                    <TouchableWithoutFeedback\n                        onPress={this.onPress}\n                        onLongPress={this.onLongPress}\n                        // @ts-ignore\n                        accessibilityTraits=\"text\"\n                        {...this.props.touchableProps}\n                    >\n                        <View>\n                            {this.renderBubbleContent()}\n                            <View\n                                style={[\n                                    styles[position].bottom,\n                                    bottomContainerStyle && bottomContainerStyle[position],\n                                ]}\n                            >\n                                {this.renderUsername()}\n                                {this.renderTime()}\n                                {this.renderTicks()}\n                            </View>\n                        </View>\n                    </TouchableWithoutFeedback>\n                </View>\n                {this.renderQuickReplies()}\n            </View>\n        );\n    }\n}\n\nexport default withBunnyKit(connectActionSheet(Bubble));\n"]},"metadata":{},"sourceType":"module"}