{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import{Coordinate,runAlgorithm}from\"../helpers\";import{DirectedEdge,DirectedGraph,DirectedVertex,UndirectedEdge,UndirectedGraph,UndirectedVertex}from\"../../data-structures/graph\";import{timeEnd,timeStart,wait,WaitManager}from\"../../utils\";import{DeepProxy}from'@qiwi/deep-proxy';import{canFinishCase1,canFinishCase3,criticalConnectionsCase1}from\"./cases\";var MyVertex=function(_DirectedVertex){_inherits(MyVertex,_DirectedVertex);var _super=_createSuper(MyVertex);function MyVertex(id,data){var _this;_classCallCheck(this,MyVertex);_this=_super.call(this,id);_this.data=data;return _this;}return MyVertex;}(DirectedVertex);var MyEdge=function(_DirectedEdge){_inherits(MyEdge,_DirectedEdge);var _super2=_createSuper(MyEdge);function MyEdge(v1,v2,weight,data){var _this2;_classCallCheck(this,MyEdge);_this2=_super2.call(this,v1,v2,weight);_this2.data=data;return _this2;}return MyEdge;}(DirectedEdge);var MyGraph=function(_DirectedGraph){_inherits(MyGraph,_DirectedGraph);var _super3=_createSuper(MyGraph);function MyGraph(){_classCallCheck(this,MyGraph);return _super3.call(this);}return MyGraph;}(DirectedGraph);var waitMan=new WaitManager(100);export var testGraphs=function testGraphs(proxyHandler){var directedGraph,vars,floydResult;return _regeneratorRuntime.async(function testGraphs$(_context){while(1){switch(_context.prev=_context.next){case 0:directedGraph=new DirectedGraph();vars=new DeepProxy({myGraph:new DirectedGraph()},proxyHandler);_context.next=4;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 4:console.log(\"vars.myGraph.addVertex(new MyVertex(1, 'data1'))\",vars.myGraph.addVertex(new MyVertex(1,'data1')));_context.next=7;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 7:console.log(\"vars.myGraph.addVertex(new MyVertex(2, 'data2'))\",vars.myGraph.addVertex(new MyVertex(2,'data2')));_context.next=10;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 10:console.log(\"vars.myGraph.addVertex(new MyVertex(3, 'data3'))\",vars.myGraph.addVertex(new MyVertex(3,'data3')));_context.next=13;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 13:console.log(\"vars.myGraph.addVertex(new MyVertex(4, 'data4'))\",vars.myGraph.addVertex(new MyVertex(4,'data4')));_context.next=16;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 16:console.log(\"vars.myGraph.addVertex(new MyVertex(5, 'data5'))\",vars.myGraph.addVertex(new MyVertex(5,'data5')));_context.next=19;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 19:console.log(\"vars.myGraph.addVertex(new MyVertex(6, 'data6'))\",vars.myGraph.addVertex(new MyVertex(6,'data6')));_context.next=22;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 22:console.log(\"vars.myGraph.addVertex(new MyVertex(7, 'data7'))\",vars.myGraph.addVertex(new MyVertex(7,'data7')));_context.next=25;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 25:console.log(\"vars.myGraph.addVertex(new MyVertex(8, 'data8'))\",vars.myGraph.addVertex(new MyVertex(8,'data8')));_context.next=28;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 28:console.log(\"vars.myGraph.addVertex(new MyVertex(9, 'data9'))\",vars.myGraph.addVertex(new MyVertex(9,'data9')));_context.next=31;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 31:console.log(\"vars.myGraph.addEdge(new MyEdge(1, 2, 10, 'edge-data1-2'))\",vars.myGraph.addEdge(new MyEdge(1,2,10,'edge-data1-2')));_context.next=34;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 34:console.log(\"vars.myGraph.addEdge(new MyEdge(2, 1, 20, 'edge-data2-1'))\",vars.myGraph.addEdge(new MyEdge(2,1,20,'edge-data2-1')));_context.next=37;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 37:console.log(\"vars.myGraph.getEdge(1, 2)\",vars.myGraph.getEdge(1,2));_context.next=40;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 40:console.log(\"vars.myGraph.getEdge(vars.myGraph.getVertex(1), vars.myGraph.getVertex(2))\",vars.myGraph.getEdge(vars.myGraph.getVertex(1),vars.myGraph.getVertex(2)));_context.next=43;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 43:console.log(\"vars.myGraph.getEdge(1,'100')\",vars.myGraph.getEdge(1,'100'));_context.next=46;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 46:console.log(JSON.stringify(vars.myGraph.edgeSet()),vars.myGraph.vertexSet());_context.next=49;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 49:console.log(\"vars.myGraph.removeEdgeBetween(1,2)\",vars.myGraph.removeEdgeBetween(1,2));_context.next=52;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 52:console.log(\"vars.myGraph.getEdge(1, 2)\",vars.myGraph.getEdge(1,2));_context.next=55;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 55:console.log(\"vars.myGraph.addEdge(new MyEdge(3, 1, 3, 'edge-data-3-1'))\",vars.myGraph.addEdge(new MyEdge(3,1,3,'edge-data-3-1')));_context.next=58;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 58:console.log(\"vars.myGraph.addEdge(new MyEdge(1, 9, 19, 'edge-data1-9'))\",vars.myGraph.addEdge(new MyEdge(1,9,19,'edge-data1-9')));_context.next=61;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 61:console.log(\"vars.myGraph.addEdge(new MyEdge(9, 7, 97, 'edge-data9-7'))\",vars.myGraph.addEdge(new MyEdge(9,7,97,'edge-data9-7')));_context.next=64;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 64:console.log(\"vars.myGraph.addEdge(new MyEdge(7, 9, 79, 'edge-data7-9'))\",vars.myGraph.addEdge(new MyEdge(7,9,79,'edge-data7-9')));_context.next=67;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 67:console.log(\"vars.myGraph.addEdge(new MyEdge(1, 4, 14, 'edge-data1-4'))\",vars.myGraph.addEdge(new MyEdge(1,4,14,'edge-data1-4')));_context.next=70;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 70:console.log(\"vars.myGraph.addEdge(new MyEdge(4, 7, 47, 'edge-data4-7'))\",vars.myGraph.addEdge(new MyEdge(4,7,47,'edge-data4-7')));_context.next=73;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 73:console.log(\"vars.myGraph.addEdge(new MyEdge(1, 2, 12, 'edge-data1-2'))\",vars.myGraph.addEdge(new MyEdge(1,2,12,'edge-data1-2')));_context.next=76;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 76:console.log(\"vars.myGraph.addEdge(new MyEdge(2, 3, 23, 'edge-data2-3'))\",vars.myGraph.addEdge(new MyEdge(2,3,23,'edge-data2-3')));_context.next=79;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 79:console.log(\"vars.myGraph.addEdge(new MyEdge(3, 5, 35, 'edge-data3-5'))\",vars.myGraph.addEdge(new MyEdge(3,5,35,'edge-data3-5')));_context.next=82;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 82:console.log(\"vars.myGraph.addEdge(new MyEdge(5, 7, 57, 'edge-data5-7'))\",vars.myGraph.addEdge(new MyEdge(5,7,57,'edge-data5-7')));_context.next=85;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 85:console.log(\"vars.myGraph.addEdge(new MyEdge(7, 3, 73, 'edge-data7-3'))\",vars.myGraph.addEdge(new MyEdge(7,3,73,'edge-data7-3')));_context.next=88;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 88:console.log('topologicalSort',vars.myGraph.topologicalSort());_context.next=91;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 91:console.log('vars.myGraph.getMinPathBetween(1, 7)',vars.myGraph.getMinPathBetween(1,7));_context.next=94;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 94:console.log(\"vars.myGraph.getAllPaths(1, 7)\",vars.myGraph.getAllPathsBetween(1,7));_context.next=97;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 97:console.log(vars.myGraph.bellmanFord(1));_context.next=100;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 100:floydResult=vars.myGraph.floyd();console.log(floydResult);_context.next=104;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 104:console.log(vars.myGraph.dijkstra(1,2,true,true));_context.next=107;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 107:console.log(vars.myGraph.dijkstra(1,null,true,true));_context.next=110;return _regeneratorRuntime.awrap(wait(waitMan.time3));case 110:console.log(vars.myGraph.dijkstraWithoutHeap(1,null,true,true));case 111:case\"end\":return _context.stop();}}},null,null,null,Promise);};function numIslands(grid){var boundY=grid.length-1;var boundX=grid[0].length-1;var dirs=[{y:-1,x:0},{y:1,x:0},{y:0,x:-1},{y:0,x:1}];var isLand=function isLand(cord){if(cord.y<0||cord.y>boundY||cord.x<0||cord.x>boundX)return false;return grid[cord.y][cord.x]==='1';};var ans=0;var dfs=function dfs(cur){if(isLand(cur)){grid[cur.y][cur.x]='2';}else{return;}for(var _iterator=_createForOfIteratorHelperLoose(dirs),_step;!(_step=_iterator()).done;){var dir=_step.value;dfs(new Coordinate(cur.y+dir.y,cur.x+dir.x));}};for(var row=0;row<grid.length;row++){for(var col=0;col<grid[row].length;col++){if(grid[row][col]==='1'){dfs(new Coordinate(row,col));ans++;}}}return ans;}var LinkedNode=function LinkedNode(val,next){_classCallCheck(this,LinkedNode);this.val=val;this.next=next;};function canFinish(numCourses,prerequisites){var hash={};for(var _iterator2=_createForOfIteratorHelperLoose(prerequisites),_step2;!(_step2=_iterator2()).done;){var _ref=_step2.value;var _ref2=_slicedToArray(_ref,2);var course=_ref2[0];var preRqt=_ref2[1];if(!hash[preRqt])hash[preRqt]=[];hash[preRqt].push(course);}var status=new Array(numCourses).fill(0);var isCircle=function isCircle(index){if(status[index]===1)return true;if(status[index]===2)return false;status[index]=1;if(hash[index]){for(var _iterator3=_createForOfIteratorHelperLoose(hash[index]),_step3;!(_step3=_iterator3()).done;){var postCourse=_step3.value;if(isCircle(postCourse))return true;}}status[index]=2;};for(var i=0;i<numCourses;i++){if(status[i]===0){if(isCircle(i))return false;}}return true;}function canFinishByGraph(numCourses,prerequisites){var graph=new DirectedGraph();var time1=timeStart();for(var i=0;i<numCourses;i++){graph.addVertex(new DirectedVertex(i));}timeEnd(time1,'addVertex');var time2=timeStart();for(var _iterator4=_createForOfIteratorHelperLoose(prerequisites),_step4;!(_step4=_iterator4()).done;){var pre=_step4.value;graph.addEdge(new DirectedEdge(pre[0],pre[1]));}timeEnd(time2,'addEdge');var time3=timeStart();var sorted=graph.topologicalSort();timeEnd(time3,'topologicalSort');return!!sorted;}var runAllCanFinish=function runAllCanFinish(){return _regeneratorRuntime.async(function runAllCanFinish$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[canFinish,false].concat(_toConsumableArray(canFinishCase1))));case 2:_context2.next=4;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[canFinishByGraph,false].concat(_toConsumableArray(canFinishCase1))));case 4:_context2.next=6;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[canFinish,false].concat(_toConsumableArray(canFinishCase3))));case 6:_context2.next=8;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[canFinishByGraph,false].concat(_toConsumableArray(canFinishCase3))));case 8:case\"end\":return _context2.stop();}}},null,null,null,Promise);};function calcEquation(equations,values,queries){var graph=new DirectedGraph();for(var _iterator5=_createForOfIteratorHelperLoose(equations),_step5;!(_step5=_iterator5()).done;){var equation=_step5.value;for(var _iterator7=_createForOfIteratorHelperLoose(equation),_step7;!(_step7=_iterator7()).done;){var variable=_step7.value;graph.addVertex(new DirectedVertex(variable));}}for(var i=0;i<equations.length;i++){if(equations[i]){graph.addEdge(new DirectedEdge(equations[i][0],equations[i][1],values[i]));}}var ans=[];for(var _iterator6=_createForOfIteratorHelperLoose(queries),_step6;!(_step6=_iterator6()).done;){var query=_step6.value;}return ans;}export function networkDelayTime(times,n,k,proxyHandler){var graph,vars,_iterator8,_step8,_ref3,_ref4,u,v,w,res,max,_i,_arr,_ref5,_ref6,_v,d;return _regeneratorRuntime.async(function networkDelayTime$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(proxyHandler){vars=new DeepProxy({graph:new DirectedGraph()},proxyHandler);graph=vars.graph;}else{graph=new DirectedGraph();}for(_iterator8=_createForOfIteratorHelperLoose(times);!(_step8=_iterator8()).done;){_ref3=_step8.value;_ref4=_slicedToArray(_ref3,3);u=_ref4[0];v=_ref4[1];w=_ref4[2];graph.addVertex(new DirectedVertex(u));graph.addVertex(new DirectedVertex(v));graph.addEdge(new DirectedEdge(u,v,w));}if(graph.containsVertex(n)){_context3.next=4;break;}return _context3.abrupt(\"return\",-1);case 4:res=graph.dijkstra(k);if(!res){_context3.next=20;break;}max=-Infinity;_i=0,_arr=_toConsumableArray(res.distMap);case 8:if(!(_i<_arr.length)){_context3.next=19;break;}_ref5=_arr[_i];_ref6=_slicedToArray(_ref5,2);_v=_ref6[0];d=_ref6[1];if(!(d===Infinity)){_context3.next=15;break;}return _context3.abrupt(\"return\",-1);case 15:max=Math.max(d,max);case 16:_i++;_context3.next=8;break;case 19:return _context3.abrupt(\"return\",max);case 20:return _context3.abrupt(\"return\",-1);case 21:case\"end\":return _context3.stop();}}},null,null,null,Promise);}function criticalConnections(n,connections){var graph={};var time1=timeStart();for(var _iterator9=_createForOfIteratorHelperLoose(connections),_step9;!(_step9=_iterator9()).done;){var conn=_step9.value;if(graph[conn[0]]){graph[conn[0]].push(conn[1]);}else{graph[conn[0]]=[conn[1]];}if(graph[conn[1]]){graph[conn[1]].push(conn[0]);}else{graph[conn[1]]=[conn[0]];}}timeEnd(time1,'construct graph');var dfnMap=new Map();var lowMap=new Map();for(var i=0;i<n;i++){dfnMap.set(i,-1);lowMap.set(i,Infinity);}var _connections$=_slicedToArray(connections[0],1),root=_connections$[0];var bridges=[];var time2=timeStart();var dfn=0;var dfs=function dfs(cur,parent){dfn++;dfnMap.set(cur,dfn);lowMap.set(cur,dfn);var neighbors=graph[cur];var childCount=0;for(var _iterator10=_createForOfIteratorHelperLoose(neighbors),_step10;!(_step10=_iterator10()).done;){var neighbor=_step10.value;if(neighbor!==parent){if(dfnMap.get(neighbor)===-1){childCount++;dfs(neighbor,cur);}var childLow=lowMap.get(neighbor);var curLow=lowMap.get(cur);lowMap.set(cur,Math.min(curLow,childLow));if(childLow>dfnMap.get(cur)){bridges.push([cur,neighbor]);}}}};dfs(root,null);timeEnd(time2,'tarjan');return bridges;}function criticalConnectionsByGraph(n,connections){var graph=new UndirectedGraph();var time1=timeStart();for(var _iterator11=_createForOfIteratorHelperLoose(connections),_step11;!(_step11=_iterator11()).done;){var _ref7=_step11.value;var _ref8=_slicedToArray(_ref7,2);var v1=_ref8[0];var v2=_ref8[1];graph.addVertex(new UndirectedVertex(v1));graph.addVertex(new UndirectedVertex(v2));graph.addEdge(new UndirectedEdge(v1,v2));}timeEnd(time1,'construct graph');var time2=timeStart();var _graph$tarjan=graph.tarjan(false,true),bridges=_graph$tarjan.bridges;timeEnd(time2,'tarjan');var ans=[];for(var _iterator12=_createForOfIteratorHelperLoose(bridges),_step12;!(_step12=_iterator12()).done;){var bridge=_step12.value;var vertexIds=bridge.vertices.map(function(v){return v;});ans.push(vertexIds);}return ans;}var runAllCriticalConnections=function runAllCriticalConnections(){return _regeneratorRuntime.async(function runAllCriticalConnections$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[criticalConnections,false].concat(_toConsumableArray(criticalConnectionsCase1))));case 2:_context4.next=4;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[criticalConnectionsByGraph,false].concat(_toConsumableArray(criticalConnectionsCase1))));case 4:case\"end\":return _context4.stop();}}},null,null,null,Promise);};export function regionsBySlashes(grid,proxyHandler){var graph2,vars,grid2,_i2,_arr2,v,_i3,_grid,_ref9,_ref10,v1,v2,ret2,ans;return _regeneratorRuntime.async(function regionsBySlashes$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(proxyHandler){vars=new DeepProxy({graph2:new DirectedGraph()},proxyHandler);graph2=vars.graph2;}else{graph2=new DirectedGraph();}grid2=[['a','f'],['f','g'],['g','a'],['a','b'],['b','c'],['c','d'],['d','b'],['c','e'],['d','e']];for(_i2=0,_arr2=['a','b','c','d','e','f','g'];_i2<_arr2.length;_i2++){v=_arr2[_i2];graph2.addVertex(new DirectedVertex(v));}for(_i3=0,_grid=grid2;_i3<_grid.length;_i3++){_ref9=_grid[_i3];_ref10=_slicedToArray(_ref9,2);v1=_ref10[0];v2=_ref10[1];graph2.addEdge(new DirectedEdge(v1,v2));}ret2=graph2.tarjan(false,false,true,true);ans=0;return _context5.abrupt(\"return\",ans);case 7:case\"end\":return _context5.stop();}}},null,null,null,Promise);}var runAllRegionsBySlashes=function runAllRegionsBySlashes(){return _regeneratorRuntime.async(function runAllRegionsBySlashes$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(runAlgorithm(regionsBySlashes,false));case 2:case\"end\":return _context6.stop();}}},null,null,null,Promise);};","map":null,"metadata":{},"sourceType":"module"}