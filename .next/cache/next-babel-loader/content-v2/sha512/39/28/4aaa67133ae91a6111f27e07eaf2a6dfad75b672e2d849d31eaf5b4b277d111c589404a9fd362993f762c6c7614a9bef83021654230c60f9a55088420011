{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _jsxFileName=\"/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/MessageSticker.tsx\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{withBunnyKit}from\"../../hooks/bunny-kit\";var makeStyles=function makeStyles(sizeLabor,themeLabor){var wp=sizeLabor.designsBasedOn.iphoneX.wp;return StyleSheet.create({container:{},sticker:{width:wp(120),height:wp(120),borderRadius:wp(13),margin:wp(3),resizeMode:'cover'}});};var MessageSticker=function(_Component){_inherits(MessageSticker,_Component);var _super=_createSuper(MessageSticker);function MessageSticker(){_classCallCheck(this,MessageSticker);return _super.apply(this,arguments);}_createClass(MessageSticker,[{key:\"render\",value:function render(){var _this=this;var _this$props=this.props,stickerContainerStyle=_this$props.stickerContainerStyle,stickerProps=_this$props.stickerProps,stickerStyle=_this$props.stickerStyle,currentMessage=_this$props.currentMessage,isDebug=_this$props.isDebug;isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','[level4]MessageSticker props',this.props);var _this$props$bunnyKit=this.props.bunnyKit,sizeLabor=_this$props$bunnyKit.sizeLabor,themeLabor=_this$props$bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return React.createElement(View,{style:[styles.container,stickerContainerStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:13}},currentMessage?currentMessage.sticker?React.createElement(Image,_extends({style:[styles.sticker,stickerStyle],onLoad:function onLoad(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageSticker onLoad');_this.props.onMessageLoad==null?void 0:_this.props.onMessageLoad(currentMessage);isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageSticker onMessageReadyForDisplay');_this.props.onMessageReadyForDisplay==null?void 0:_this.props.onMessageReadyForDisplay(currentMessage);},onLoadStart:function onLoadStart(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageSticker onLoadStart');_this.props.onMessageLoadStart==null?void 0:_this.props.onMessageLoadStart(currentMessage);},onLoadEnd:function onLoadEnd(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageSticker onLoadEnd');_this.props.onMessageLoadEnd==null?void 0:_this.props.onMessageLoadEnd(currentMessage);},onError:function onError(e){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageSticker onError');_this.props.onMessageLoadError==null?void 0:_this.props.onMessageLoadError(e.nativeEvent.error,currentMessage);},source:{uri:currentMessage.sticker}},stickerProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:27}})):React.createElement(Text,{__self:this,__source:{fileName:_jsxFileName,lineNumber:92,columnNumber:27}},'currentMessage.sticker is undefined'):React.createElement(Text,{__self:this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:23}},'currentMessage is undefined'));}}]);return MessageSticker;}(Component);MessageSticker.defaultProps={currentMessage:undefined,stickerContainerStyle:{},stickerStyle:{},stickerProps:{},onMessageLoad:undefined,onMessageLoadStart:undefined,onMessageLoadEnd:undefined,onMessageReadyForDisplay:undefined,onMessageLoadError:undefined,isDebug:false};export default withBunnyKit(MessageSticker);","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/MessageSticker.tsx"],"names":["makeStyles","wp","sizeLabor","container","sticker","width","height","borderRadius","margin","resizeMode","MessageSticker","Component","defaultProps","currentMessage","stickerContainerStyle","stickerStyle","stickerProps","onMessageLoad","onMessageLoadStart","onMessageLoadEnd","onMessageReadyForDisplay","onMessageLoadError","isDebug","console","themeLabor","styles","e","uri","withBunnyKit"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Image, ImageProps, ImageStyle, StyleProp, StyleSheet, Text, View, ViewStyle} from 'react-native';\n// TODO: support web\nimport {IMessage} from './types';\nimport {SizeLabor, ThemeLabor} from '../../types';\nimport {withBunnyKit, WithBunnyKit} from '../../hooks/bunny-kit';\n\nconst makeStyles = (sizeLabor: SizeLabor, themeLabor: ThemeLabor) => {\n    const {wp} = sizeLabor.designsBasedOn.iphoneX;\n    return StyleSheet.create({\n        container: {},\n        sticker: {\n            width: wp(120),\n            height: wp(120),\n            borderRadius: wp(13),\n            margin: wp(3),\n            resizeMode: 'cover',\n        }\n    });\n};\n\nexport interface MessageStickerProps<TMessage extends IMessage> {\n    currentMessage?: TMessage;\n    stickerContainerStyle?: StyleProp<ViewStyle>;\n    stickerStyle?: StyleProp<ImageStyle>;\n    stickerProps?: Partial<ImageProps>;\n    isDebug?: boolean;\n\n    onMessageLoad?(currentMessage: TMessage): void;\n\n    onMessageLoadStart?(currentMessage: TMessage): void;\n\n    onMessageLoadEnd?(currentMessage: TMessage): void;\n\n    onMessageReadyForDisplay?(currentMessage: TMessage): void;\n\n    onMessageLoadError?(e: Error, currentMessage: TMessage): void;\n}\n\nclass MessageSticker<TMessage extends IMessage> extends Component<MessageStickerProps<TMessage> & WithBunnyKit> {\n    static defaultProps = {\n        currentMessage: undefined,\n        stickerContainerStyle: {},\n        stickerStyle: {},\n        stickerProps: {},\n        onMessageLoad: undefined,\n        onMessageLoadStart: undefined,\n        onMessageLoadEnd: undefined,\n        onMessageReadyForDisplay: undefined,\n        onMessageLoadError: undefined,\n        isDebug: false,\n    };\n\n    render() {\n        const {\n            stickerContainerStyle,\n            stickerProps,\n            stickerStyle,\n            currentMessage,\n            isDebug,\n        } = this.props;\n        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', '[level4]MessageSticker props', this.props);\n        const {bunnyKit: {sizeLabor, themeLabor}} = this.props;\n        const styles = makeStyles(sizeLabor, themeLabor);\n        return (\n            <View style={[styles.container, stickerContainerStyle]}>\n                {currentMessage\n                    ? currentMessage.sticker\n                        ? <Image\n                            style={[styles.sticker, stickerStyle]}\n                            onLoad={() => {\n                                isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageSticker onLoad');\n                                this.props.onMessageLoad?.(currentMessage);\n                                isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageSticker onMessageReadyForDisplay');\n                                this.props.onMessageReadyForDisplay?.(currentMessage);\n                            }}\n                            onLoadStart={() => {\n                                isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageSticker onLoadStart');\n                                this.props.onMessageLoadStart?.(currentMessage);\n                            }}\n                            onLoadEnd={() => {\n                                isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageSticker onLoadEnd');\n                                this.props.onMessageLoadEnd?.(currentMessage);\n                            }}\n                            onError={(e) => {\n                                isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageSticker onError');\n                                this.props.onMessageLoadError?.(e.nativeEvent.error, currentMessage);\n                            }}\n                            source={{uri: currentMessage.sticker}}\n                            {...stickerProps}\n                        />\n                        : <Text>{'currentMessage.sticker is undefined'}</Text>\n                    : <Text>{'currentMessage is undefined'}</Text>\n                }\n\n            </View>\n        );\n    }\n}\n\nexport default withBunnyKit(MessageSticker);\n"]},"metadata":{},"sourceType":"module"}