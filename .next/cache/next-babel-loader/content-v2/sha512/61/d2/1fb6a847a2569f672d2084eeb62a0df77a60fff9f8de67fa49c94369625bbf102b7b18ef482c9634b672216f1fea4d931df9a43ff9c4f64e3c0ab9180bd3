{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{InButtonText,LinearGradientButton,TextInputIcon,View}from\"../../components/UI\";import*as React from'react';import{useState}from'react';import{useDispatch}from'react-redux';import{shortenTFunctionKey}from\"../../providers/i18n-labor\";import{InputCard,makeContainerStyles,Row}from\"../../containers\";import{useAuthLabor}from\"../../providers/auth-labor\";import{LinearGradientIcon}from\"../../components/LinearGradientIcon\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import{collectBizLogicResult,collectSysError}from\"../../store/actions\";import{LoginVector}from\"../../components/LoginVector\";import{getSharedStyles,navToReference}from\"../../helpers\";import{makeStyles}from\"./styles\";import{useBunnyKit}from\"../../hooks/bunny-kit\";export function SignUpScreen(_ref){var route=_ref.route,navigation=_ref.navigation,isBunnyAuth=_ref.isBunnyAuth;var _useBunnyKit=useBunnyKit(),sizeLabor=_useBunnyKit.sizeLabor,themeLabor=_useBunnyKit.themeLabor,colors=_useBunnyKit.colors,wp=_useBunnyKit.wp,theme=_useBunnyKit.theme,t=_useBunnyKit.t,ms=_useBunnyKit.ms;var dispatch=useDispatch();var st=shortenTFunctionKey(t,'screens.Auth');var containerStyles=makeContainerStyles(sizeLabor,themeLabor);var _getSharedStyles=getSharedStyles(sizeLabor,themeLabor),sharedStyles=_getSharedStyles.sharedStyles;var styles=makeStyles(sizeLabor,themeLabor);var _useAuthLabor=useAuthLabor(),authFunctions=_useAuthLabor.authFunctions;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var firebaseEmailSignUp=function firebaseEmailSignUp(){var result;return _regeneratorRuntime.async(function firebaseEmailSignUp$(_context){while(1){switch(_context.prev=_context.next){case 0:Keyboard.dismiss();_context.prev=1;_context.next=4;return _regeneratorRuntime.awrap(authFunctions.firebaseEmailSignUp(username,password,true));case 4:result=_context.sent;if(result.success){navToReference(route,navigation);}else{dispatch(collectBizLogicResult(result));}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(collectSysError(_context.t0));case 11:case\"end\":return _context.stop();}}},null,null,[[1,8]],Promise);};var bunnySignUp=function bunnySignUp(){var result;return _regeneratorRuntime.async(function bunnySignUp$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:Keyboard.dismiss();_context2.prev=1;_context2.next=4;return _regeneratorRuntime.awrap(authFunctions.bunnySignUp({username:username,password:password}));case 4:result=_context2.sent;if(result.success){navToReference(route,navigation);}else{dispatch(collectBizLogicResult(result));}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(collectSysError(_context2.t0));case 11:case\"end\":return _context2.stop();}}},null,null,[[1,8]],Promise);};var handleSignUp=function handleSignUp(){return _regeneratorRuntime.async(function handleSignUp$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!isBunnyAuth){_context3.next=5;break;}_context3.next=3;return _regeneratorRuntime.awrap(bunnySignUp());case 3:_context3.next=7;break;case 5:_context3.next=7;return _regeneratorRuntime.awrap(firebaseEmailSignUp());case 7:case\"end\":return _context3.stop();}}},null,null,null,Promise);};return React.createElement(View,{style:containerStyles.Screen},React.createElement(View,{style:styles.loginOrSignUpContainer},React.createElement(InputCard,{title:st(\"email\")},React.createElement(TextInputIcon,{placeholder:t('placeholders.email'),textContentType:\"emailAddress\",value:username,onChangeText:function onChangeText(value){setUsername(value);},renderIcon:function renderIcon(){return React.createElement(LinearGradientIcon,{name:\"mail\",size:wp(20)});}})),React.createElement(InputCard,{title:st(\"password\")},React.createElement(TextInputIcon,{placeholder:t(\"placeholders.password\"),textContentType:\"password\",value:password,onChangeText:function onChangeText(value){setPassword(value);},secureTextEntry:true,renderIcon:function renderIcon(){return React.createElement(LinearGradientIcon,{name:\"lock\",size:wp(22)});}})),React.createElement(React.Fragment,null,React.createElement(Row,{style:{marginTop:ms.sp.l}},React.createElement(LinearGradientButton,{onPress:handleSignUp},React.createElement(InButtonText,null,st(\"signUp\")))),React.createElement(LoginVector,{route:route,navigation:navigation}))));}","map":null,"metadata":{},"sourceType":"module"}