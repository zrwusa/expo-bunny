{"ast":null,"code":"\"use strict\";var _interopRequireDefault2=require(\"@babel/runtime/helpers/interopRequireDefault\");var _extends2=_interopRequireDefault2(require(\"@babel/runtime/helpers/extends\"));var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=withRouter;var _react=_interopRequireDefault(require(\"react\"));var _router=require(\"./router\");function withRouter(ComposedComponent){function WithRouterWrapper(props){return _react.default.createElement(ComposedComponent,(0,_extends2.default)({router:(0,_router.useRouter)()},props));}WithRouterWrapper.getInitialProps=ComposedComponent.getInitialProps;WithRouterWrapper.origGetInitialProps=ComposedComponent.origGetInitialProps;if(true){var name=ComposedComponent.displayName||ComposedComponent.name||'Unknown';WithRouterWrapper.displayName=\"withRouter(\"+name+\")\";}return WithRouterWrapper;}","map":{"version":3,"sources":["../../client/with-router.tsx"],"names":["ComposedComponent","getInitialProps","WithRouterWrapper","name"],"mappings":"wTAAA,GAAA,CAAA,MAAA,CAAA,sBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAEA,GAAA,CAAA,OAAA,CAAA,OAAA,YAAA,CAWe,QAAA,CAAA,UAAA,CAAA,iBAAA,CAK+B,CAC5C,QAAA,CAAA,iBAAA,CAAA,KAAA,CAAoD,CAClD,MAAO,CAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,iBAAA,CAAA,sBAAA,CAAmB,MAAM,CAAE,CAAA,EAAA,OAAA,CAA3B,SAA2B,GAA3B,CAAA,CAAP,KAAO,CAAA,CAAP,CAGF,CAAA,iBAAiB,CAAjB,eAAA,CAAoCA,iBAAiB,CAACC,eAAtD,CAEEC,iBAAD,CAAA,mBAACA,CAAiDF,iBAAD,CAAjD,mBAACE,CACF,QAA2C,CACzC,GAAMC,CAAAA,IAAI,CACRH,iBAAiB,CAAjBA,WAAAA,EAAiCA,iBAAiB,CAAlDA,IAAAA,EADF,SAAA,CAEAE,iBAAiB,CAAjBA,WAAAA,eAAAA,IAAAA,KAGF,OAAA,CAAA,iBAAA,CACD","sourcesContent":["import React from 'react'\nimport { NextComponentType, NextPageContext } from '../next-server/lib/utils'\nimport { NextRouter, useRouter } from './router'\n\nexport type WithRouterProps = {\n  router: NextRouter\n}\n\nexport type ExcludeRouterProps<P> = Pick<\n  P,\n  Exclude<keyof P, keyof WithRouterProps>\n>\n\nexport default function withRouter<\n  P extends WithRouterProps,\n  C = NextPageContext\n>(\n  ComposedComponent: NextComponentType<C, any, P>\n): React.ComponentType<ExcludeRouterProps<P>> {\n  function WithRouterWrapper(props: any): JSX.Element {\n    return <ComposedComponent router={useRouter()} {...props} />\n  }\n\n  WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps\n  // This is needed to allow checking for custom getInitialProps in _app\n  ;(WithRouterWrapper as any).origGetInitialProps = (ComposedComponent as any).origGetInitialProps\n  if (process.env.NODE_ENV !== 'production') {\n    const name =\n      ComposedComponent.displayName || ComposedComponent.name || 'Unknown'\n    WithRouterWrapper.displayName = `withRouter(${name})`\n  }\n\n  return WithRouterWrapper\n}\n"]},"metadata":{},"sourceType":"script"}