{"ast":null,"code":"\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");exports.__esModule=true;exports.default=connect;var DevOverlay=_interopRequireWildcard(require(\"@next/react-dev-overlay/lib/client\"));var _stripAnsi=_interopRequireDefault(require(\"next/dist/compiled/strip-ansi\"));var _eventsource=require(\"./eventsource\");var _formatWebpackMessages=_interopRequireDefault(require(\"./format-webpack-messages\"));var hadRuntimeError=false;var customHmrEventHandler;function connect(){DevOverlay.register();(0,_eventsource.addMessageListener)(function(event){if(event.data===\"\\uD83D\\uDC93\"){return;}try{processMessage(event);}catch(ex){console.warn('Invalid HMR message: '+event.data+'\\n'+ex);}});return{subscribeToHmrEvent:function subscribeToHmrEvent(handler){customHmrEventHandler=handler;},onUnrecoverableError:function onUnrecoverableError(){hadRuntimeError=true;}};}var isFirstCompilation=true;var mostRecentCompilationHash=null;var hasCompileErrors=false;function clearOutdatedErrors(){if(typeof console!=='undefined'&&typeof console.clear==='function'){if(hasCompileErrors){console.clear();}}}function handleSuccess(){clearOutdatedErrors();var isHotUpdate=!isFirstCompilation;isFirstCompilation=false;hasCompileErrors=false;if(isHotUpdate){tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates){onFastRefresh(hasUpdates);});}}function handleWarnings(warnings){clearOutdatedErrors();var isHotUpdate=!isFirstCompilation;isFirstCompilation=false;hasCompileErrors=false;function printWarnings(){var formatted=(0,_formatWebpackMessages.default)({warnings:warnings,errors:[]});if(typeof console!=='undefined'&&typeof console.warn==='function'){for(var i=0;i<formatted.warnings.length;i++){if(i===5){console.warn('There were more warnings in other files.\\n'+'You can find a complete log in the terminal.');break;}console.warn((0,_stripAnsi.default)(formatted.warnings[i]));}}}printWarnings();if(isHotUpdate){tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates){onFastRefresh(hasUpdates);});}}function handleErrors(errors){clearOutdatedErrors();isFirstCompilation=false;hasCompileErrors=true;var formatted=(0,_formatWebpackMessages.default)({errors:errors,warnings:[]});DevOverlay.onBuildError(formatted.errors[0]);if(typeof console!=='undefined'&&typeof console.error==='function'){for(var i=0;i<formatted.errors.length;i++){console.error((0,_stripAnsi.default)(formatted.errors[i]));}}if(process.env.__NEXT_TEST_MODE){if(self.__NEXT_HMR_CB){self.__NEXT_HMR_CB(formatted.errors[0]);self.__NEXT_HMR_CB=null;}}}function onFastRefresh(hasUpdates){DevOverlay.onBuildOk();if(hasUpdates){DevOverlay.onRefresh();}console.log('[Fast Refresh] done');}function handleAvailableHash(hash){mostRecentCompilationHash=hash;}function processMessage(e){var obj=JSON.parse(e.data);switch(obj.action){case'building':{console.log('[Fast Refresh] rebuilding');break;}case'built':case'sync':{if(obj.hash){handleAvailableHash(obj.hash);}var errors=obj.errors,warnings=obj.warnings;var hasErrors=Boolean(errors&&errors.length);if(hasErrors){return handleErrors(errors);}var hasWarnings=Boolean(warnings&&warnings.length);if(hasWarnings){return handleWarnings(warnings);}return handleSuccess();}default:{if(customHmrEventHandler){customHmrEventHandler(obj);break;}break;}}}function isUpdateAvailable(){return mostRecentCompilationHash!==__webpack_hash__;}function canApplyUpdates(){return module.hot.status()==='idle';}function afterApplyUpdates(fn){if(canApplyUpdates()){fn();}else{function handler(status){if(status==='idle'){module.hot.removeStatusHandler(handler);fn();}}module.hot.addStatusHandler(handler);}}function tryApplyUpdates(onHotUpdateSuccess){if(!module.hot){console.error('HotModuleReplacementPlugin is not in Webpack configuration.');return;}if(!isUpdateAvailable()||!canApplyUpdates()){return;}function handleApplyUpdates(err,updatedModules){if(err||hadRuntimeError||!updatedModules){if(err){console.warn('[Fast Refresh] performing full reload\\n\\n'+\"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\"+'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n'+'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n'+'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n'+'Fast Refresh requires at least one parent function component in your React tree.');}else if(hadRuntimeError){console.warn('[Fast Refresh] performing full reload because your application had an unrecoverable error');}window.location.reload();return;}var hasUpdates=Boolean(updatedModules.length);if(typeof onHotUpdateSuccess==='function'){onHotUpdateSuccess(hasUpdates);}if(isUpdateAvailable()){tryApplyUpdates(hasUpdates?undefined:onHotUpdateSuccess);}else{if(process.env.__NEXT_TEST_MODE){afterApplyUpdates(function(){if(self.__NEXT_HMR_CB){self.__NEXT_HMR_CB();self.__NEXT_HMR_CB=null;}});}}}module.hot.check(true).then(function(updatedModules){handleApplyUpdates(null,updatedModules);},function(err){handleApplyUpdates(err,null);});}","map":{"version":3,"sources":["../../../../client/dev/error-overlay/hot-dev-client.js"],"names":["hadRuntimeError","DevOverlay","event","processMessage","console","subscribeToHmrEvent","customHmrEventHandler","onUnrecoverableError","isFirstCompilation","mostRecentCompilationHash","hasCompileErrors","clearOutdatedErrors","isHotUpdate","tryApplyUpdates","onFastRefresh","formatted","warnings","errors","i","printWarnings","process","self","obj","JSON","e","handleAvailableHash","hasErrors","Boolean","handleErrors","hasWarnings","handleWarnings","handleSuccess","module","canApplyUpdates","fn","status","isUpdateAvailable","err","window","hasUpdates","updatedModules","onHotUpdateSuccess","afterApplyUpdates","handleApplyUpdates"],"mappings":"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","sourcesContent":["/**\n * MIT License\n *\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n// This file is a modified version of the Create React App HMR dev client that\n// can be found here:\n// https://github.com/facebook/create-react-app/blob/v3.4.1/packages/react-dev-utils/webpackHotDevClient.js\n\nimport * as DevOverlay from '@next/react-dev-overlay/lib/client'\nimport stripAnsi from 'next/dist/compiled/strip-ansi'\nimport { addMessageListener } from './eventsource'\nimport formatWebpackMessages from './format-webpack-messages'\n\n// This alternative WebpackDevServer combines the functionality of:\n// https://github.com/webpack/webpack-dev-server/blob/webpack-1/client/index.js\n// https://github.com/webpack/webpack/blob/webpack-1/hot/dev-server.js\n\n// It only supports their simplest configuration (hot updates on same server).\n// It makes some opinionated choices on top, like adding a syntax error overlay\n// that looks similar to our console output. The error overlay is inspired by:\n// https://github.com/glenjamin/webpack-hot-middleware\n\nlet hadRuntimeError = false\nlet customHmrEventHandler\nexport default function connect() {\n  DevOverlay.register()\n\n  addMessageListener((event) => {\n    // This is the heartbeat event\n    if (event.data === '\\uD83D\\uDC93') {\n      return\n    }\n    try {\n      processMessage(event)\n    } catch (ex) {\n      console.warn('Invalid HMR message: ' + event.data + '\\n' + ex)\n    }\n  })\n\n  return {\n    subscribeToHmrEvent(handler) {\n      customHmrEventHandler = handler\n    },\n    onUnrecoverableError() {\n      hadRuntimeError = true\n    },\n  }\n}\n\n// Remember some state related to hot module replacement.\nvar isFirstCompilation = true\nvar mostRecentCompilationHash = null\nvar hasCompileErrors = false\n\nfunction clearOutdatedErrors() {\n  // Clean up outdated compile errors, if any.\n  if (typeof console !== 'undefined' && typeof console.clear === 'function') {\n    if (hasCompileErrors) {\n      console.clear()\n    }\n  }\n}\n\n// Successful compilation.\nfunction handleSuccess() {\n  clearOutdatedErrors()\n\n  const isHotUpdate = !isFirstCompilation\n  isFirstCompilation = false\n  hasCompileErrors = false\n\n  // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates)\n    })\n  }\n}\n\n// Compilation with warnings (e.g. ESLint).\nfunction handleWarnings(warnings) {\n  clearOutdatedErrors()\n\n  const isHotUpdate = !isFirstCompilation\n  isFirstCompilation = false\n  hasCompileErrors = false\n\n  function printWarnings() {\n    // Print warnings to the console.\n    const formatted = formatWebpackMessages({\n      warnings: warnings,\n      errors: [],\n    })\n\n    if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n      for (let i = 0; i < formatted.warnings.length; i++) {\n        if (i === 5) {\n          console.warn(\n            'There were more warnings in other files.\\n' +\n              'You can find a complete log in the terminal.'\n          )\n          break\n        }\n        console.warn(stripAnsi(formatted.warnings[i]))\n      }\n    }\n  }\n\n  printWarnings()\n\n  // Attempt to apply hot updates or reload.\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate(hasUpdates) {\n      // Only dismiss it when we're sure it's a hot update.\n      // Otherwise it would flicker right before the reload.\n      onFastRefresh(hasUpdates)\n    })\n  }\n}\n\n// Compilation with errors (e.g. syntax error or missing modules).\nfunction handleErrors(errors) {\n  clearOutdatedErrors()\n\n  isFirstCompilation = false\n  hasCompileErrors = true\n\n  // \"Massage\" webpack messages.\n  var formatted = formatWebpackMessages({\n    errors: errors,\n    warnings: [],\n  })\n\n  // Only show the first error.\n  DevOverlay.onBuildError(formatted.errors[0])\n\n  // Also log them to the console.\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    for (var i = 0; i < formatted.errors.length; i++) {\n      console.error(stripAnsi(formatted.errors[i]))\n    }\n  }\n\n  // Do not attempt to reload now.\n  // We will reload on next success instead.\n  if (process.env.__NEXT_TEST_MODE) {\n    if (self.__NEXT_HMR_CB) {\n      self.__NEXT_HMR_CB(formatted.errors[0])\n      self.__NEXT_HMR_CB = null\n    }\n  }\n}\n\nfunction onFastRefresh(hasUpdates) {\n  DevOverlay.onBuildOk()\n  if (hasUpdates) {\n    DevOverlay.onRefresh()\n  }\n\n  console.log('[Fast Refresh] done')\n}\n\n// There is a newer version of the code available.\nfunction handleAvailableHash(hash) {\n  // Update last known compilation hash.\n  mostRecentCompilationHash = hash\n}\n\n// Handle messages from the server.\nfunction processMessage(e) {\n  const obj = JSON.parse(e.data)\n  switch (obj.action) {\n    case 'building': {\n      console.log('[Fast Refresh] rebuilding')\n      break\n    }\n    case 'built':\n    case 'sync': {\n      if (obj.hash) {\n        handleAvailableHash(obj.hash)\n      }\n\n      const { errors, warnings } = obj\n      const hasErrors = Boolean(errors && errors.length)\n      if (hasErrors) {\n        return handleErrors(errors)\n      }\n\n      const hasWarnings = Boolean(warnings && warnings.length)\n      if (hasWarnings) {\n        return handleWarnings(warnings)\n      }\n\n      return handleSuccess()\n    }\n    default: {\n      if (customHmrEventHandler) {\n        customHmrEventHandler(obj)\n        break\n      }\n      break\n    }\n  }\n}\n\n// Is there a newer version of this code available?\nfunction isUpdateAvailable() {\n  /* globals __webpack_hash__ */\n  // __webpack_hash__ is the hash of the current compilation.\n  // It's a global variable injected by Webpack.\n  return mostRecentCompilationHash !== __webpack_hash__\n}\n\n// Webpack disallows updates in other states.\nfunction canApplyUpdates() {\n  return module.hot.status() === 'idle'\n}\nfunction afterApplyUpdates(fn) {\n  if (canApplyUpdates()) {\n    fn()\n  } else {\n    function handler(status) {\n      if (status === 'idle') {\n        module.hot.removeStatusHandler(handler)\n        fn()\n      }\n    }\n    module.hot.addStatusHandler(handler)\n  }\n}\n\n// Attempt to update code on the fly, fall back to a hard reload.\nfunction tryApplyUpdates(onHotUpdateSuccess) {\n  if (!module.hot) {\n    // HotModuleReplacementPlugin is not in Webpack configuration.\n    console.error('HotModuleReplacementPlugin is not in Webpack configuration.')\n    // window.location.reload();\n    return\n  }\n\n  if (!isUpdateAvailable() || !canApplyUpdates()) {\n    return\n  }\n\n  function handleApplyUpdates(err, updatedModules) {\n    if (err || hadRuntimeError || !updatedModules) {\n      if (err) {\n        console.warn(\n          '[Fast Refresh] performing full reload\\n\\n' +\n            \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\n            'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\n            'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\n            'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\n            'Fast Refresh requires at least one parent function component in your React tree.'\n        )\n      } else if (hadRuntimeError) {\n        console.warn(\n          '[Fast Refresh] performing full reload because your application had an unrecoverable error'\n        )\n      }\n      window.location.reload()\n      return\n    }\n\n    const hasUpdates = Boolean(updatedModules.length)\n    if (typeof onHotUpdateSuccess === 'function') {\n      // Maybe we want to do something.\n      onHotUpdateSuccess(hasUpdates)\n    }\n\n    if (isUpdateAvailable()) {\n      // While we were updating, there was a new update! Do it again.\n      tryApplyUpdates(hasUpdates ? undefined : onHotUpdateSuccess)\n    } else {\n      if (process.env.__NEXT_TEST_MODE) {\n        afterApplyUpdates(() => {\n          if (self.__NEXT_HMR_CB) {\n            self.__NEXT_HMR_CB()\n            self.__NEXT_HMR_CB = null\n          }\n        })\n      }\n    }\n  }\n\n  // https://webpack.js.org/api/hot-module-replacement/#check\n  module.hot.check(/* autoApply */ true).then(\n    (updatedModules) => {\n      handleApplyUpdates(null, updatedModules)\n    },\n    (err) => {\n      handleApplyUpdates(err, null)\n    }\n  )\n}\n"]},"metadata":{},"sourceType":"script"}