{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{AudioPlayer}from\"../AudioPlayer\";import{withBunnyKit}from\"../../hooks/bunny-kit\";var makeStyles=function makeStyles(sizeLabor,themeLabor){var wp=sizeLabor.designsBasedOn.iphoneX.wp;var colors=themeLabor.theme.colors;return{left:StyleSheet.create({container:{height:wp(46)},audio:{},playButton:{backgroundColor:colors.backgroundAA},playButtonIcon:{color:colors.backgroundAAA},progress:{backgroundColor:colors.backgroundAB},remainTime:{color:colors.textAC}}),right:StyleSheet.create({container:{height:wp(46)},audio:{},playButton:{backgroundColor:colors.backgroundBA},playButtonIcon:{color:colors.backgroundBAA},progress:{backgroundColor:colors.backgroundBB},remainTime:{color:colors.textBC}})};};var MessageAudio=function(_Component){_inherits(MessageAudio,_Component);var _super=_createSuper(MessageAudio);function MessageAudio(){_classCallCheck(this,MessageAudio);return _super.apply(this,arguments);}_createClass(MessageAudio,[{key:\"render\",value:function render(){var _this=this;var _this$props=this.props,audioContainerStyle=_this$props.audioContainerStyle,audioProps=_this$props.audioProps,audioStyle=_this$props.audioStyle,audioProgressStyle=_this$props.audioProgressStyle,audioPlayButtonStyle=_this$props.audioPlayButtonStyle,currentMessage=_this$props.currentMessage,isDebug=_this$props.isDebug,position=_this$props.position,audioProgressColor=_this$props.audioProgressColor,audioRemainTimeStyle=_this$props.audioRemainTimeStyle,audioPlayButtonIconStyle=_this$props.audioPlayButtonIconStyle;isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','[level4]MessageAudio props',this.props);var _this$props$bunnyKit=this.props.bunnyKit,sizeLabor=_this$props$bunnyKit.sizeLabor,themeLabor=_this$props$bunnyKit.themeLabor,colors=_this$props$bunnyKit.colors;var styles=makeStyles(sizeLabor,themeLabor);var stylesEnsurePosition=styles[position];return React.createElement(View,{style:[stylesEnsurePosition.container,audioContainerStyle]},currentMessage?currentMessage.audio?React.createElement(AudioPlayer,_extends({style:[stylesEnsurePosition.audio,audioStyle],progressStyle:[stylesEnsurePosition.progress,audioProgressStyle],progressColor:position==='left'?colors.backgroundABA||(audioProgressColor==null?void 0:audioProgressColor.left):colors.backgroundBBA||(audioProgressColor==null?void 0:audioProgressColor.right),playButtonStyle:[stylesEnsurePosition.playButton,audioPlayButtonStyle],remainTimeStyle:[stylesEnsurePosition.remainTime,audioRemainTimeStyle],playButtonIconStyle:[stylesEnsurePosition.playButtonIcon,audioPlayButtonIconStyle],source:{uri:currentMessage.audio},onLoad:function onLoad(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageAudio onLoad');_this.props.onMessageLoad==null?void 0:_this.props.onMessageLoad(currentMessage);isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageAudio onMessageReadyForDisplay');_this.props.onMessageReadyForDisplay==null?void 0:_this.props.onMessageReadyForDisplay(currentMessage);},onLoadStart:function onLoadStart(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageAudio onLoadStart');_this.props.onMessageLoadStart==null?void 0:_this.props.onMessageLoadStart(currentMessage);},onLoadEnd:function onLoadEnd(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageAudio onLoadEnd');_this.props.onMessageLoadEnd==null?void 0:_this.props.onMessageLoadEnd(currentMessage);},onError:function onError(e){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageAudio onError');_this.props.onMessageLoadError==null?void 0:_this.props.onMessageLoadError(e,currentMessage);}},audioProps)):isDebug?React.createElement(Text,null,'currentMessage.audio is undefined'):null:isDebug?React.createElement(Text,null,'currentMessage is undefined'):null);}}]);return MessageAudio;}(Component);MessageAudio.defaultProps={position:'left',currentMessage:undefined,audioContainerStyle:{},audioStyle:{},audioProgressStyle:{},audioProgressColor:undefined,audioPlayButtonStyle:{},audioPlayButtonIconStyle:{},audioProps:{},onMessageLoad:undefined,onMessageLoadStart:undefined,onMessageLoadEnd:undefined,onMessageReadyForDisplay:undefined,onMessageLoadError:undefined,isDebug:false};export default withBunnyKit(MessageAudio);","map":null,"metadata":{},"sourceType":"module"}