{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import Platform from\"react-native-web/dist/exports/Platform\";import*as Notifications from'expo-notifications';import Constants from'expo-constants';import{collectBizLogicResult}from\"../store/actions\";import{bizLogicSuccess}from\"../helpers\";import store from\"../store/store\";export var registerForPushNotificationsAsync=function registerForPushNotificationsAsync(copywriting){var token,_await$Notifications$,existingStatus,finalStatus,_await$Notifications$2,status;return _regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Constants.isDevice){_context.next=20;break;}_context.next=3;return _regeneratorRuntime.awrap(Notifications.getPermissionsAsync());case 3:_await$Notifications$=_context.sent;existingStatus=_await$Notifications$.status;finalStatus=existingStatus;if(!(existingStatus!=='granted')){_context.next=12;break;}_context.next=9;return _regeneratorRuntime.awrap(Notifications.requestPermissionsAsync());case 9:_await$Notifications$2=_context.sent;status=_await$Notifications$2.status;finalStatus=status;case 12:if(!(finalStatus!=='granted')){_context.next=15;break;}store.dispatch(collectBizLogicResult(bizLogicSuccess(undefined,copywriting.failedToGetToken)));return _context.abrupt(\"return\");case 15:_context.next=17;return _regeneratorRuntime.awrap(Notifications.getExpoPushTokenAsync());case 17:token=_context.sent.data;_context.next=22;break;case 20:store.dispatch(collectBizLogicResult(bizLogicSuccess(undefined,copywriting.mustUsePhysicalDevice)));return _context.abrupt(\"return\");case 22:if(!(Platform.OS==='android')){_context.next=25;break;}_context.next=25;return _regeneratorRuntime.awrap(Notifications.setNotificationChannelAsync('default',{name:'default',importance:Notifications.AndroidImportance.MAX,vibrationPattern:[0,250,250,250],lightColor:'#FF231F7C'}));case 25:return _context.abrupt(\"return\",token);case 26:case\"end\":return _context.stop();}}},null,null,null,Promise);};export var schedulePushNotification=function schedulePushNotification(){return _regeneratorRuntime.async(function schedulePushNotification$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(Notifications.scheduleNotificationAsync({content:{title:'You\\'ve got mail! ðŸ“¬',body:'Here is the notification body',sound:'default',data:{data:'goes here'}},trigger:{seconds:2}}));case 2:case\"end\":return _context2.stop();}}},null,null,null,Promise);};export var defaultNotification={'request':{'trigger':{'type':'push'},'identifier':'XXXxXXXx-XXXx-XXXx-XXXx-XXXxXXXxXXXx','content':{'body':'body','sound':'default','launchImageName':'','subtitle':null,'title':null,'data':{},'categoryIdentifier':'','attachments':[],'threadIdentifier':''}},'date':new Date().getMilliseconds()};","map":null,"metadata":{},"sourceType":"module"}