{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import{HeapNode,MaxHeap,MinHeap}from\"../../data-structures/heap\";import{runAlgorithm}from\"../helpers\";import{findKthLargestCase1,findKthLargestCase2,findKthLargestCase3,findKthLargestCase9,mergeKListsCase1,mergeKListsCase2,reorganizeStringCase1,topKFrequentCase1}from\"./cases\";export function findKthLargestMinHeap(nums,k){var heap=new MinHeap([]);for(var _iterator=_createForOfIteratorHelperLoose(nums),_step;!(_step=_iterator()).done;){var i=_step.value;if(heap.size()<k||i>=heap.peek()){heap.insert(i);}if(heap.size()>k){heap.poll();}}return heap.peek();}var runAllFindKthLargest=function runAllFindKthLargest(){return _regeneratorRuntime.async(function runAllFindKthLargest$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[findKthLargestMinHeap,false].concat(_toConsumableArray(findKthLargestCase1))));case 2:_context.next=4;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[findKthLargestMinHeap,false].concat(_toConsumableArray(findKthLargestCase2))));case 4:_context.next=6;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[findKthLargestMinHeap,false].concat(_toConsumableArray(findKthLargestCase3))));case 6:_context.next=8;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[findKthLargestMinHeap,false].concat(_toConsumableArray(findKthLargestCase9))));case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);};function mergeKLists(lists){var heap=new MinHeap();for(var _iterator2=_createForOfIteratorHelperLoose(lists),_step2;!(_step2=_iterator2()).done;){var l=_step2.value;if(l){heap.insert(new HeapNode(l.value,l));}}if(heap.size()<1){return null;}var ans=heap.poll().val;ans.prev=null;if(ans.next){heap.insert(new HeapNode(ans.next.value,ans.next));}var prev=ans;while(!heap.isEmpty()){var cur=heap.poll().val;cur.prev=prev;prev.next=cur;prev=prev.next;if(cur.next){heap.insert(new HeapNode(cur.next.value,cur.next));}}return ans;}var runAllMergeKLists=function runAllMergeKLists(){return _regeneratorRuntime.async(function runAllMergeKLists$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[mergeKLists,false].concat(_toConsumableArray(mergeKListsCase1))));case 2:_context2.next=4;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[mergeKLists,false].concat(_toConsumableArray(mergeKListsCase2))));case 4:case\"end\":return _context2.stop();}}},null,null,null,Promise);};function topKFrequent(nums,k){var hash=new Map();for(var _iterator3=_createForOfIteratorHelperLoose(nums),_step3;!(_step3=_iterator3()).done;){var num=_step3.value;if(hash.has(num)){var val=hash.get(num);if(val!==undefined){hash.set(num,val+1);}}else{hash.set(num,1);}}var heap=new MinHeap();for(var _iterator4=_createForOfIteratorHelperLoose(hash),_step4;!(_step4=_iterator4()).done;){var entry=_step4.value;var node=new HeapNode(entry[1],entry);if(heap.size()<k){heap.insert(node);}else if(heap.size()===k){var peek=heap.peek();if(peek.id<entry[1]){heap.poll();heap.insert(node);}}}return heap.toArray().map(function(item){return item.val[0];});}function topKFrequentByBucket(nums,k){var hash=new Map();var maxFrequency=1;for(var _iterator5=_createForOfIteratorHelperLoose(nums),_step5;!(_step5=_iterator5()).done;){var num=_step5.value;if(hash.has(num)){var val=hash.get(num);if(val!==undefined){if(val+1>maxFrequency)maxFrequency=val+1;hash.set(num,val+1);}}else{hash.set(num,1);}}var buckets=new Array(maxFrequency+1);for(var i=0;i<buckets.length;i++){buckets[i]=[];}for(var _iterator6=_createForOfIteratorHelperLoose(hash),_step6;!(_step6=_iterator6()).done;){var entry=_step6.value;buckets[entry[1]].push(entry[0]);}var ans=[];while(ans.length<k){var bucket=buckets.pop();if(bucket&&bucket.length>0){ans=ans.concat(bucket);}}return ans;}var runAllTopKFrequent=function runAllTopKFrequent(){return _regeneratorRuntime.async(function runAllTopKFrequent$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[topKFrequent,false].concat(_toConsumableArray(topKFrequentCase1))));case 2:_context3.next=4;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[topKFrequentByBucket,false].concat(_toConsumableArray(topKFrequentCase1))));case 4:case\"end\":return _context3.stop();}}},null,null,null,Promise);};var MedianFinder=function(){function MedianFinder(){_classCallCheck(this,MedianFinder);this._leftHeap=new MaxHeap();this._rightHeap=new MinHeap();}_createClass(MedianFinder,[{key:\"addNum\",value:function addNum(num){if(this._leftHeap.size()===0){this._leftHeap.insert(num);}else{var leftPeek=this._leftHeap.peek();if(leftPeek!==null){if(num>leftPeek){this._rightHeap.insert(num);}else{this._leftHeap.insert(num);}}}var leftSize=this._leftHeap.size();var rightSize=this._rightHeap.size();if(leftSize-rightSize>=2){this._rightHeap.insert(this._leftHeap.poll());}else if(rightSize>leftSize){this._leftHeap.insert(this._rightHeap.poll());}}},{key:\"findMedian\",value:function findMedian(){var leftSize=this._leftHeap.size();var rightSize=this._rightHeap.size();if(leftSize>rightSize){return this._leftHeap.peek();}else{return(this._leftHeap.peek()+this._rightHeap.peek())/2;}}}]);return MedianFinder;}();function medianFind(){var medianFinder=new MedianFinder();medianFinder.addNum(-1);console.log(medianFinder.findMedian());medianFinder.addNum(-2);console.log(medianFinder.findMedian());medianFinder.addNum(-3);console.log(medianFinder.findMedian());medianFinder.addNum(-4);console.log(medianFinder.findMedian());medianFinder.addNum(-5);console.log(medianFinder.findMedian());}var runAllMedianFind=function runAllMedianFind(){return _regeneratorRuntime.async(function runAllMedianFind$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(runAlgorithm(medianFind,false));case 2:case\"end\":return _context4.stop();}}},null,null,null,Promise);};function reorganizeString(s){var hash=new Map();for(var _iterator7=_createForOfIteratorHelperLoose(s),_step7;!(_step7=_iterator7()).done;){var char=_step7.value;if(hash.has(char)){var _count=hash.get(char);if(_count){hash.set(char,++_count);}}else{hash.set(char,1);}}var heap=new MaxHeap();for(var _iterator8=_createForOfIteratorHelperLoose(hash),_step8;!(_step8=_iterator8()).done;){var entry=_step8.value;heap.insert(new HeapNode(entry[1],entry));}var ans='';if(heap.peek().val[1]>Math.ceil(s.length/2)){}else{var conveyor=[];var peek=heap.poll();for(var i=0;i<peek.id;i++){conveyor.push([peek.val[0]]);}var processCount=0;while(heap.size()>0){var peek1=heap.poll();var count=peek1.id;for(var j=0;j<count;j++){processCount++;var cur=conveyor.shift();cur.push(peek1.val[0]);conveyor.push(cur);}}var needOrderedCount=conveyor.length-processCount%conveyor.length;for(var m=0;m<needOrderedCount;m++){conveyor.push(conveyor.shift());}ans=conveyor.join().replaceAll(',','');}return ans;}var runAllReorganizeString=function runAllReorganizeString(){return _regeneratorRuntime.async(function runAllReorganizeString$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(runAlgorithm.apply(void 0,[reorganizeString,false].concat(_toConsumableArray(reorganizeStringCase1))));case 2:case\"end\":return _context5.stop();}}},null,null,null,Promise);};var KthLargest=function(){function KthLargest(k,nums){_classCallCheck(this,KthLargest);this._k=k;this._heap=new MinHeap(nums);while(this._heap.size()>k){this._heap.poll();}}_createClass(KthLargest,[{key:\"add\",value:function add(val){var size=this._heap.size();if(size<this._k){this._heap.insert(val);}else if(size===this._k){if(val>this._heap.peek()){this._heap.poll();this._heap.insert(val);}}return this._heap.peek();}}]);return KthLargest;}();var testKthLargest=function testKthLargest(){var kthLargest=new KthLargest(3,[4,5,8,2]);console.log('kthLargest.add(3)',kthLargest.add(3));console.log('kthLargest.add(5)',kthLargest.add(5));console.log('kthLargest.add(10)',kthLargest.add(10));console.log('kthLargest.add(9)',kthLargest.add(9));console.log('kthLargest.add(4)',kthLargest.add(4));};var runAllKthLargest=function runAllKthLargest(){return _regeneratorRuntime.async(function runAllKthLargest$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(runAlgorithm(testKthLargest,false));case 2:case\"end\":return _context6.stop();}}},null,null,null,Promise);};var testHeap1=function testHeap1(){var minHeap=new MinHeap([5,2,3,4,6,1]);console.log(minHeap.toArray());console.log(minHeap.toArray());console.log(minHeap.peek());minHeap.poll();minHeap.poll();minHeap.poll();console.log(minHeap.toArray());console.log(MinHeap.heapify([3,2,1,5,6,7,8,9,10]).toArray());return;};var testHeap2=function testHeap2(){var maxHeap=new MaxHeap([new HeapNode(5,5),new HeapNode(2),new HeapNode(3),new HeapNode(4),new HeapNode('6',6),new HeapNode(1)]);console.log(maxHeap.toArray());console.log(maxHeap.toArray());console.log(maxHeap.peek());maxHeap.poll();maxHeap.poll();maxHeap.poll();console.log(maxHeap.toArray());console.log(MaxHeap.heapify([3,2,1,5,6,7,8,9,10]).toArray());};var testHeap3=function testHeap3(){var heapSortTest=new MinHeap([new HeapNode(2,2),new HeapNode(5),new HeapNode(8),new HeapNode(3),new HeapNode(1),new HeapNode(6,6),new HeapNode(7),new HeapNode(4)]);var sorted=heapSortTest.clone().sort('val');console.log('sorted',sorted,heapSortTest);console.log('DFS inOrder default',heapSortTest.DFS('in'));console.log('DFS inOrder id',heapSortTest.DFS('in','id'));console.log('DFS inOrder val',heapSortTest.DFS('in','val'));console.log('DFS preOrder val',heapSortTest.DFS('pre','val'));};export var testHeap=function testHeap(){var minHeap=new MinHeap([3,2,4,5,1,9]);console.log(minHeap.sort());console.log(minHeap.sort());var maxHeap=new MaxHeap([3,2,4,5,1,9]);console.log(maxHeap.sort());console.log(maxHeap.sort());};","map":null,"metadata":{},"sourceType":"module"}