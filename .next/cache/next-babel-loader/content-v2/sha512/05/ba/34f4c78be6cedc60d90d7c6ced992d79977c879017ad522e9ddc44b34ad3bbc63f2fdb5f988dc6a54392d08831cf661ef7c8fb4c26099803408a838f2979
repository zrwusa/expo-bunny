{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{makeStyles}from\"./styles\";import*as React from'react';import Share from\"react-native-web/dist/exports/Share\";import{ButtonTO,Image,InButtonText,Text,TouchableOpacity,View}from\"../../components/UI\";import{useDispatch}from'react-redux';import{collectSysError}from\"../../store/actions\";import*as ImagePicker from'expo-image-picker';import*as Sharing from'expo-sharing';import{shortenTFunctionKey}from\"../../providers/i18n-labor\";import{makeContainerStyles}from\"../../containers\";import{useSizeLabor}from\"../../providers/size-labor\";import{useThemeLabor}from\"../../providers/theme-labor\";import{getSharedStyles}from\"../../helpers\";import{useBunnyKit}from\"../../hooks/bunny-kit\";function DemoShareScreen(){var _useBunnyKit=useBunnyKit(),t=_useBunnyKit.t;var st=shortenTFunctionKey(t,'screens.DemoShare');var dispatch=useDispatch();var onShare=function onShare(){var result;return _regeneratorRuntime.async(function onShare$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(Share.share({message:st(\"message\")}));case 3:result=_context.sent;if(result.action===Share.sharedAction){if(result.activityType){}else{}}else if(result.action===Share.dismissedAction){}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch(collectSysError(_context.t0.toString()));case 10:case\"end\":return _context.stop();}}},null,null,[[0,7]],Promise);};var _React$useState=React.useState({localUri:''}),_React$useState2=_slicedToArray(_React$useState,2),selectedImage=_React$useState2[0],setSelectedImage=_React$useState2[1];var openImagePicker=function openImagePicker(){var permissionResult,pickerResult;return _regeneratorRuntime.async(function openImagePicker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());case 2:permissionResult=_context2.sent;if(permissionResult.granted){_context2.next=6;break;}alert(st(\"permissionNotGranted\"));return _context2.abrupt(\"return\");case 6:_context2.next=8;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());case 8:pickerResult=_context2.sent;if(!pickerResult.cancelled){_context2.next=11;break;}return _context2.abrupt(\"return\");case 11:setSelectedImage({localUri:pickerResult.uri});case 12:case\"end\":return _context2.stop();}}},null,null,null,Promise);};var openShareDialogAsync=function openShareDialogAsync(){return _regeneratorRuntime.async(function openShareDialogAsync$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(Sharing.isAvailableAsync());case 2:if(_context3.sent){_context3.next=5;break;}alert(st(\"notAvailable\"));return _context3.abrupt(\"return\");case 5:_context3.next=7;return _regeneratorRuntime.awrap(Sharing.shareAsync(selectedImage.localUri));case 7:setSelectedImage({localUri:''});case 8:case\"end\":return _context3.stop();}}},null,null,null,Promise);};var sizeLabor=useSizeLabor();var themeLabor=useThemeLabor();var containerStyles=makeContainerStyles(sizeLabor,themeLabor);var styles=makeStyles(sizeLabor,themeLabor);var _getSharedStyles=getSharedStyles(sizeLabor,themeLabor),sharedStyles=_getSharedStyles.sharedStyles;return React.createElement(View,{style:[containerStyles.Screen,sharedStyles.centralized]},React.createElement(View,{style:{marginTop:50}},React.createElement(ButtonTO,{onPress:onShare},React.createElement(InButtonText,null,st(\"shareMessage\")))),selectedImage&&selectedImage.localUri?React.createElement(View,{style:sharedStyles.centralized},React.createElement(Image,{source:{uri:selectedImage.localUri},style:styles.thumbnail}),React.createElement(TouchableOpacity,{onPress:openShareDialogAsync},React.createElement(InButtonText,null,\"Share this photo\"))):React.createElement(View,{style:sharedStyles.centralized},React.createElement(Image,{source:{uri:'https://i.imgur.com/TkIrScD.png'},style:styles.logo}),React.createElement(Text,{style:styles.instructions},st(\"pressButtonTip\")),React.createElement(ButtonTO,{onPress:openImagePicker},React.createElement(InButtonText,null,st(\"pickAPhoto\")))));}export default DemoShareScreen;","map":null,"metadata":{},"sourceType":"module"}