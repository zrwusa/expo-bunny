{"ast":null,"code":"\"use strict\";exports.__esModule=true;exports.getRouteRegex=getRouteRegex;function escapeRegex(str){return str.replace(/[|\\\\{}()[\\]^$+*?.-]/g,'\\\\$&');}function parseParameter(param){var optional=param.startsWith('[')&&param.endsWith(']');if(optional){param=param.slice(1,-1);}var repeat=param.startsWith('...');if(repeat){param=param.slice(3);}return{key:param,repeat:repeat,optional:optional};}function getRouteRegex(normalizedRoute){var segments=(normalizedRoute.replace(/\\/$/,'')||'/').slice(1).split('/');var groups={};var groupIndex=1;var parameterizedRoute=segments.map(function(segment){if(segment.startsWith('[')&&segment.endsWith(']')){var _parseParameter=parseParameter(segment.slice(1,-1)),key=_parseParameter.key,optional=_parseParameter.optional,repeat=_parseParameter.repeat;groups[key]={pos:groupIndex++,repeat:repeat,optional:optional};return repeat?optional?'(?:/(.+?))?':'/(.+?)':'/([^/]+?)';}else{return\"/\"+escapeRegex(segment);}}).join('');if(false){var routeKeyCharCode=97;var routeKeyCharLength=1;var getSafeRouteKey=function getSafeRouteKey(){var routeKey='';for(var i=0;i<routeKeyCharLength;i++){routeKey+=String.fromCharCode(routeKeyCharCode);routeKeyCharCode++;if(routeKeyCharCode>122){routeKeyCharLength++;routeKeyCharCode=97;}}return routeKey;};var routeKeys={};var namedParameterizedRoute=segments.map(function(segment){if(segment.startsWith('[')&&segment.endsWith(']')){var _parseParameter2=parseParameter(segment.slice(1,-1)),key=_parseParameter2.key,optional=_parseParameter2.optional,repeat=_parseParameter2.repeat;var cleanedKey=key.replace(/\\W/g,'');var invalidKey=false;if(cleanedKey.length===0||cleanedKey.length>30){invalidKey=true;}if(!isNaN(parseInt(cleanedKey.substr(0,1)))){invalidKey=true;}if(invalidKey){cleanedKey=getSafeRouteKey();}routeKeys[cleanedKey]=key;return repeat?optional?\"(?:/(?<\"+cleanedKey+\">.+?))?\":\"/(?<\"+cleanedKey+\">.+?)\":\"/(?<\"+cleanedKey+\">[^/]+?)\";}else{return\"/\"+escapeRegex(segment);}}).join('');return{re:new RegExp(\"^\"+parameterizedRoute+\"(?:/)?$\"),groups:groups,routeKeys:routeKeys,namedRegex:\"^\"+namedParameterizedRoute+\"(?:/)?$\"};}return{re:new RegExp(\"^\"+parameterizedRoute+\"(?:/)?$\"),groups:groups};}","map":null,"metadata":{},"sourceType":"script"}