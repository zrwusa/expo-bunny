{"ast":null,"code":"import _construct from\"@babel/runtime/helpers/construct\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}export var SinglyLinkedListNode=function(){function SinglyLinkedListNode(data,prev,next,list){_classCallCheck(this,SinglyLinkedListNode);this.data=data;this.prev=prev;this.next=next;this.list=list;}_createClass(SinglyLinkedListNode,[{key:\"value\",get:function get(){return this.data;}},{key:\"index\",get:function get(){var _this=this;if(!this.list){return undefined;}return this.list.findIndex(function(value){return value===_this.value;});}},{key:\"insertBefore\",value:function insertBefore(data){return this.list!==null?this.list.insertBefore(this,data):new SinglyLinkedList(data,this.data);}},{key:\"insertAfter\",value:function insertAfter(data){return this.list!==null?this.list.insertAfter(this,data):new SinglyLinkedList(this.data,data);}},{key:\"remove\",value:function remove(){if(this.list===null){throw new ReferenceError('Node does not belong to any list');}return this.list.removeNode(this);}}]);return SinglyLinkedListNode;}();export var SinglyLinkedList=function(){function SinglyLinkedList(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_classCallCheck(this,SinglyLinkedList);this.head=null;this.tail=null;this.size=0;for(var i=0;i<arguments.length;i++){this.append(arguments[i]);}}_createClass(SinglyLinkedList,[{key:\"length\",get:function get(){return this.size;}},{key:\"get\",value:function get(index){var node=this.getNode(index);return node!==undefined?node.data:undefined;}},{key:\"getNode\",value:function getNode(index){if(this.head===null||index<0||index>=this.length){return undefined;}var asc=index<this.length/2;var stopAt=asc?index:this.length-index-1;var nextNode=asc?'next':'prev';var currentNode=asc?this.head:this.tail;for(var currentIndex=0;currentIndex<stopAt;currentIndex++){currentNode=currentNode[nextNode];}return currentNode;}},{key:\"findNodeIndex\",value:function findNodeIndex(f){var currentIndex=0;var currentNode=this.head;while(currentNode){if(f(currentNode.data,currentIndex,this)){return{index:currentIndex,node:currentNode};}currentNode=currentNode.next;currentIndex+=1;}return undefined;}},{key:\"findNode\",value:function findNode(f){var nodeIndex=this.findNodeIndex(f);return nodeIndex!==undefined?nodeIndex.node:undefined;}},{key:\"find\",value:function find(f){var nodeIndex=this.findNodeIndex(f);return nodeIndex!==undefined?nodeIndex.node.data:undefined;}},{key:\"findIndex\",value:function findIndex(f){var nodeIndex=this.findNodeIndex(f);return nodeIndex!==undefined?nodeIndex.index:-1;}},{key:\"append\",value:function append(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}for(var _i=0,_args=args;_i<_args.length;_i++){var _data=_args[_i];var node=new SinglyLinkedListNode(_data,this.tail,null,this);if(this.head===null){this.head=node;}if(this.tail!==null){this.tail.next=node;}this.tail=node;this.size+=1;}return this;}},{key:\"push\",value:function push(){this.append.apply(this,arguments);return this.length;}},{key:\"prepend\",value:function prepend(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}var reverseArgs=Array.from(args).reverse();for(var _iterator=_createForOfIteratorHelperLoose(reverseArgs),_step;!(_step=_iterator()).done;){var _data2=_step.value;var node=new SinglyLinkedListNode(_data2,null,this.head,this);if(this.tail===null){this.tail=node;}if(this.head!==null){this.head.prev=node;}this.head=node;this.size+=1;}return this;}},{key:\"insertAt\",value:function insertAt(index,data){if(this.head===null){return this.append(data);}if(index<=0){return this.prepend(data);}var currentNode=this.head;var currentIndex=0;while(currentIndex<index-1&&currentNode.next!==null){currentIndex+=1;currentNode=currentNode.next;}currentNode.insertAfter(data);return this;}},{key:\"removeNode\",value:function removeNode(node){if(node.list!==this){throw new ReferenceError('Node does not belong to this list');}if(node.prev!==null){node.prev.next=node.next;}if(node.next!==null){node.next.prev=node.prev;}if(this.head===node){this.head=node.next;}if(this.tail===node){this.tail=node.prev;}this.size-=1;node.next=null;node.prev=null;node.list=null;return node;}},{key:\"removeAt\",value:function removeAt(index){var node=this.getNode(index);return node!==undefined?this.removeNode(node):undefined;}},{key:\"insertBefore\",value:function insertBefore(referenceNode,data){var node=new SinglyLinkedListNode(data,referenceNode.prev,referenceNode,this);if(referenceNode.prev===null){this.head=node;}if(referenceNode.prev!==null){referenceNode.prev.next=node;}referenceNode.prev=node;this.size+=1;return this;}},{key:\"sort\",value:function sort(compare){if(this.head===null||this.tail===null){return this;}if(this.length<2){return this;}var quicksort=function quicksort(start,end){if(start===end){return;}var pivotData=end.data;var current=start;var split=start;while(current&&current!==end){var sort=compare(current.data,pivotData);if(sort){if(current!==split){var temp=split.data;split.data=current.data;current.data=temp;}split=split.next;}current=current.next;}end.data=split.data;split.data=pivotData;if(start.next===end.prev){return;}if(split.prev&&split!==start){quicksort(start,split.prev);}if(split.next&&split!==end){quicksort(split.next,end);}};quicksort(this.head,this.tail);return this;}},{key:\"insertAfter\",value:function insertAfter(referenceNode,data){var node=new SinglyLinkedListNode(data,referenceNode,referenceNode.next,this);if(referenceNode.next===null){this.tail=node;}if(referenceNode.next!==null){referenceNode.next.prev=node;}referenceNode.next=node;this.size+=1;return this;}},{key:\"shift\",value:function shift(){return this.removeFromAnyEnd(this.head);}},{key:\"pop\",value:function pop(){return this.removeFromAnyEnd(this.tail);}},{key:\"merge\",value:function merge(list){if(this.tail!==null){this.tail.next=list.head;}if(list.head!==null){list.head.prev=this.tail;}this.head=this.head||list.head;this.tail=list.tail||this.tail;this.size+=list.size;list.size=this.size;list.head=this.head;list.tail=this.tail;}},{key:\"clear\",value:function clear(){this.head=null;this.tail=null;this.size=0;return this;}},{key:\"slice\",value:function slice(start,end){var list=new SinglyLinkedList();var finish=end;if(this.head===null||this.tail===null){return list;}if(finish===undefined||finish<start){finish=this.length;}var head=this.getNode(start);for(var i=0;i<finish-start&&head!==null&&head!==undefined;i++){list.append(head.data);head=head.next;}return list;}},{key:\"reverse\",value:function reverse(){var currentNode=this.head;while(currentNode){var _next=currentNode.next;currentNode.next=currentNode.prev;currentNode.prev=_next;currentNode=currentNode.prev;}var tail=this.tail;this.tail=this.head;this.head=tail;return this;}},{key:\"forEach\",value:function forEach(f){var reverse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var currentIndex=reverse?this.length-1:0;var currentNode=reverse?this.tail:this.head;var modifier=reverse?-1:1;var nextNode=reverse?'prev':'next';while(currentNode){f(currentNode.data,currentIndex,this);currentNode=currentNode[nextNode];currentIndex+=modifier;}}},{key:\"map\",value:function map(f){var _this2=this;var reverse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var list=new SinglyLinkedList();this.forEach(function(data,index){return list.append(f(data,index,_this2));},reverse);return list;}},{key:\"filter\",value:function filter(f){var _this3=this;var reverse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var list=new SinglyLinkedList();this.forEach(function(data,index){if(f(data,index,_this3)){list.append(data);}},reverse);return list;}},{key:\"reduce\",value:function reduce(f,start){var reverse=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var currentIndex=reverse?this.length-1:0;var modifier=reverse?-1:1;var nextNode=reverse?'prev':'next';var currentElement=reverse?this.tail:this.head;var result;if(start!==undefined){result=start;}else if(currentElement){result=currentElement.data;currentElement=currentElement[nextNode];}else{throw new TypeError('Reduce of empty LinkedList with no initial value');}while(currentElement){result=f(result,currentElement.data,currentIndex,this);currentIndex+=modifier;currentElement=currentElement[nextNode];}return result;}},{key:\"toArray\",value:function toArray(){return _toConsumableArray(this);}},{key:\"toString\",value:function toString(){var separator=arguments.length>0&&arguments[0]!==undefined?arguments[0]:' ';return this.reduce(function(s,data){return\"\"+s+separator+data;});}},{key:Symbol.iterator,value:_regeneratorRuntime.mark(function value(){var element;return _regeneratorRuntime.wrap(function value$(_context){while(1){switch(_context.prev=_context.next){case 0:element=this.head;case 1:if(!(element!==null)){_context.next=7;break;}_context.next=4;return element.data;case 4:element=element.next;_context.next=1;break;case 7:case\"end\":return _context.stop();}}},value,this);})},{key:\"removeFromAnyEnd\",value:function removeFromAnyEnd(node){return node!==null?this.removeNode(node).data:undefined;}}],[{key:\"from\",value:function from(iterable){return _construct(SinglyLinkedList,_toConsumableArray(iterable));}}]);return SinglyLinkedList;}();","map":null,"metadata":{},"sourceType":"module"}