{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _jsxFileName=\"/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/MessageImage.tsx\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import LightBox from\"../../../packages/react-native-lightbox\";import{withBunnyKit}from\"../../hooks/bunny-kit\";var makeStyles=function makeStyles(sizeLabor,themeLabor){var wp=sizeLabor.designsBasedOn.iphoneX.wp;return StyleSheet.create({container:{},image:{width:wp(150),height:wp(100),borderRadius:wp(13),margin:wp(3),resizeMode:'cover'},imageActive:{flex:1,resizeMode:'contain'}});};var MessageImage=function(_Component){_inherits(MessageImage,_Component);var _super=_createSuper(MessageImage);function MessageImage(){_classCallCheck(this,MessageImage);return _super.apply(this,arguments);}_createClass(MessageImage,[{key:\"render\",value:function render(){var _this=this;var _this$props=this.props,imageContainerStyle=_this$props.imageContainerStyle,lightBoxProps=_this$props.lightBoxProps,imageProps=_this$props.imageProps,imageStyle=_this$props.imageStyle,currentMessage=_this$props.currentMessage,isDebug=_this$props.isDebug,messages=_this$props.messages;isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','[level4]MessageImage props',this.props);var _this$props$bunnyKit=this.props.bunnyKit,sizeLabor=_this$props$bunnyKit.sizeLabor,themeLabor=_this$props$bunnyKit.themeLabor;var styles=makeStyles(sizeLabor,themeLabor);return React.createElement(View,{style:[styles.container,imageContainerStyle],__self:this,__source:{fileName:_jsxFileName,lineNumber:76,columnNumber:13}},React.createElement(LightBox,_extends({activeProps:{style:styles.imageActive}},lightBoxProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:77,columnNumber:17}}),currentMessage?currentMessage.image?React.createElement(Image,_extends({style:[styles.image,imageStyle],onLoad:function onLoad(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageImage onLoad');_this.props.onMessageLoad==null?void 0:_this.props.onMessageLoad(currentMessage);isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageImage onMessageReadyForDisplay');_this.props.onMessageReadyForDisplay==null?void 0:_this.props.onMessageReadyForDisplay(currentMessage);},onLoadStart:function onLoadStart(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageImage onLoadStart');_this.props.onMessageLoadStart==null?void 0:_this.props.onMessageLoadStart(currentMessage);},onLoadEnd:function onLoadEnd(){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageImage onLoadEnd');_this.props.onMessageLoadEnd==null?void 0:_this.props.onMessageLoadEnd(currentMessage);},onError:function onError(e){isDebug&&console.log('%c[ chat ]','background: #555; color: #bada55','MessageImage onError');_this.props.onMessageLoadError==null?void 0:_this.props.onMessageLoadError(e.nativeEvent.error,currentMessage);},source:{uri:currentMessage.image}},imageProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:35}})):React.createElement(Text,{__self:this,__source:{fileName:_jsxFileName,lineNumber:110,columnNumber:35}},'currentMessage.image is undefined'):React.createElement(Text,{__self:this,__source:{fileName:_jsxFileName,lineNumber:111,columnNumber:31}},'currentMessage is undefined')));}}]);return MessageImage;}(Component);MessageImage.defaultProps={messages:[],currentMessage:undefined,imageContainerStyle:{},imageStyle:{},imageProps:{},lightBoxProps:{},onMessageLoad:undefined,onMessageLoadStart:undefined,onMessageLoadEnd:undefined,onMessageReadyForDisplay:undefined,onMessageLoadError:undefined,isDebug:false};export default withBunnyKit(MessageImage);","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/src/components/BunnyChat/MessageImage.tsx"],"names":["makeStyles","wp","sizeLabor","container","image","width","height","borderRadius","margin","resizeMode","imageActive","flex","MessageImage","Component","defaultProps","messages","currentMessage","imageContainerStyle","imageStyle","imageProps","lightBoxProps","onMessageLoad","onMessageLoadStart","onMessageLoadEnd","onMessageReadyForDisplay","onMessageLoadError","isDebug","console","themeLabor","styles","style","e","uri","withBunnyKit"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Image, ImageProps, ImageStyle, StyleProp, StyleSheet, Text, View, ViewStyle,} from 'react-native';\nimport {IMessage} from './types';\nimport LightBox from '../../../packages/react-native-lightbox';\nimport {SizeLabor, ThemeLabor} from '../../types';\nimport {withBunnyKit, WithBunnyKit} from '../../hooks/bunny-kit';\n\nconst makeStyles = (sizeLabor: SizeLabor, themeLabor: ThemeLabor) => {\n    const {wp} = sizeLabor.designsBasedOn.iphoneX;\n    return StyleSheet.create({\n        container: {},\n        image: {\n            width: wp(150),\n            height: wp(100),\n            borderRadius: wp(13),\n            margin: wp(3),\n            resizeMode: 'cover',\n        },\n        imageActive: {\n            flex: 1,\n            resizeMode: 'contain',\n        },\n    });\n};\n\nexport interface MessageImageProps<TMessage extends IMessage> {\n    messages?: TMessage[],\n    currentMessage?: TMessage\n    imageContainerStyle?: StyleProp<ViewStyle>\n    imageStyle?: StyleProp<ImageStyle>\n    imageProps?: Partial<ImageProps>\n    lightBoxProps?: object,\n    isDebug?: boolean\n\n    onMessageLoad?(currentMessage: TMessage): void\n\n    onMessageLoadStart?(currentMessage: TMessage): void\n\n    onMessageLoadEnd?(currentMessage: TMessage): void\n\n    onMessageReadyForDisplay?(currentMessage: TMessage): void\n\n    onMessageLoadError?(e: Error, currentMessage: TMessage): void\n}\n\nclass MessageImage<TMessage extends IMessage> extends Component<MessageImageProps<TMessage> & WithBunnyKit> {\n    static defaultProps = {\n        messages: [],\n        currentMessage: undefined,\n        imageContainerStyle: {},\n        imageStyle: {},\n        imageProps: {},\n        lightBoxProps: {},\n        onMessageLoad: undefined,\n        onMessageLoadStart: undefined,\n        onMessageLoadEnd: undefined,\n        onMessageReadyForDisplay: undefined,\n        onMessageLoadError: undefined,\n        isDebug: false\n    };\n\n    render() {\n        const {\n            imageContainerStyle,\n            lightBoxProps,\n            imageProps,\n            imageStyle,\n            currentMessage,\n            isDebug,\n            messages,\n        } = this.props;\n        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', '[level4]MessageImage props', this.props);\n        const {bunnyKit: {sizeLabor, themeLabor}} = this.props;\n        const styles = makeStyles(sizeLabor, themeLabor);\n        return (\n            <View style={[styles.container, imageContainerStyle]}>\n                <LightBox\n                    activeProps={{\n                        style: styles.imageActive,\n                    }}\n                    {...lightBoxProps}\n                >\n                    {\n                        currentMessage\n                            ? currentMessage.image\n                                ? <Image\n                                    style={[styles.image, imageStyle]}\n                                    onLoad={() => {\n                                        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageImage onLoad');\n                                        this.props.onMessageLoad?.(currentMessage);\n                                        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageImage onMessageReadyForDisplay');\n                                        this.props.onMessageReadyForDisplay?.(currentMessage);\n                                    }}\n                                    onLoadStart={() => {\n                                        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageImage onLoadStart');\n                                        this.props.onMessageLoadStart?.(currentMessage);\n                                    }}\n                                    onLoadEnd={() => {\n                                        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageImage onLoadEnd');\n                                        this.props.onMessageLoadEnd?.(currentMessage);\n                                    }}\n                                    onError={(e) => {\n                                        isDebug && console.log('%c[ chat ]', 'background: #555; color: #bada55', 'MessageImage onError');\n                                        this.props.onMessageLoadError?.(e.nativeEvent.error, currentMessage);\n                                    }}\n\n                                    source={{uri: currentMessage.image}}\n                                    {...imageProps}\n                                />\n                                : <Text>{'currentMessage.image is undefined'}</Text>\n                            : <Text>{'currentMessage is undefined'}</Text>\n                    }\n                </LightBox>\n            </View>\n        );\n    }\n}\n\nexport default withBunnyKit(MessageImage);\n"]},"metadata":{},"sourceType":"module"}