{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{EBizLogicMsg,EDemoMap}from\"../../constants\";import{bunnyAPI}from\"../../helpers/bunny-api\";import{collectSysError,requestFailed,requesting,requestSuccess}from\"./sys\";import{collectBizLogicResult}from\"./biz-logic-result\";import{bizLogicError}from\"../../helpers\";export var restoreNearbyFilms=function restoreNearbyFilms(payload){return{type:EDemoMap.RESTORE_NEARBY_FILMS,payload:payload};};export var getNearbyFilms=function getNearbyFilms(reqParams){return function _callee(dispatch){var result,config,_await$bunnyAPI$reque,data;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={method:'GET',url:'/api/nearby-films',params:reqParams};_context.prev=1;result=dispatch(requesting(config));_context.next=5;return _regeneratorRuntime.awrap(bunnyAPI.request(config));case 5:_await$bunnyAPI$reque=_context.sent;data=_await$bunnyAPI$reque.data.data;if(data){result=dispatch(restoreNearbyFilms(data));result=dispatch(requestSuccess(config));}else{result=dispatch(collectBizLogicResult(bizLogicError(EBizLogicMsg.NO_NEARBY_FILMS)));}return _context.abrupt(\"return\",result);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);result=dispatch(collectSysError(_context.t0));result=dispatch(requestFailed(config));return _context.abrupt(\"return\",result);case 16:case\"end\":return _context.stop();}}},null,null,[[1,11]],Promise);};};export var restoreRegion=function restoreRegion(payload){return{type:EDemoMap.RESTORE_REGION,payload:payload};};","map":null,"metadata":{},"sourceType":"module"}