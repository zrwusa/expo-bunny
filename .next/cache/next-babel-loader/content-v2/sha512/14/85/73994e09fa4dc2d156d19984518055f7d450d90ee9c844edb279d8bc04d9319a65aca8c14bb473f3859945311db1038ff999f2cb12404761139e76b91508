{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";var _this=this,_jsxFileName=\"/Users/revone/projects/expo-react-bunny/src/components/InterestPicker/InterestPicker.tsx\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{ButtonTO,IcoMoon,InButtonText,Text,TextButton,View}from\"../UI\";import{Col,Row}from\"../../containers\";import*as React from'react';import{useEffect,useState}from'react';import{useBunnyKit}from\"../../hooks/bunny-kit\";import{getSharedStyles}from\"../../helpers\";import{makeStyles}from\"./styles\";import Modal from'react-native-modal';import{Divider}from\"../Divider\";import FlatList from\"react-native-web/dist/exports/FlatList\";import{dictionaries}from\"./dictionaries\";import{Checkbox}from'react-native-paper';import lodash from'lodash';import{capitalizeWords}from\"../../utils\";import{InlineSelector}from\"../InlineSelector\";export var InterestPicker=function InterestPicker(props){var _useBunnyKit=useBunnyKit(),sizeLabor=_useBunnyKit.sizeLabor,themeLabor=_useBunnyKit.themeLabor,wp=_useBunnyKit.wp,colors=_useBunnyKit.colors;var onDone=props.onDone,_props$type=props.type,type=_props$type===void 0?'edit':_props$type,_props$initialSports=props.initialSports,initialSports=_props$initialSports===void 0?[{name:'ATV',code:'A0001'}]:_props$initialSports,_props$initialMusics=props.initialMusics,initialMusics=_props$initialMusics===void 0?[]:_props$initialMusics,_props$initialFoods=props.initialFoods,initialFoods=_props$initialFoods===void 0?[]:_props$initialFoods,_props$initialMovies=props.initialMovies,initialMovies=_props$initialMovies===void 0?[]:_props$initialMovies,_props$initialBooks=props.initialBooks,initialBooks=_props$initialBooks===void 0?[]:_props$initialBooks,_props$initialTravels=props.initialTravels,initialTravels=_props$initialTravels===void 0?[]:_props$initialTravels;var _getSharedStyles=getSharedStyles(sizeLabor,themeLabor),sharedStyles=_getSharedStyles.sharedStyles;var styles=makeStyles(sizeLabor,themeLabor);var _reset=function _reset(){};var _useState=useState({sports:initialSports,musics:initialMusics,foods:initialFoods,movies:initialMovies,books:initialBooks,travels:initialTravels}),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showModal=_useState4[0],setShowModal=_useState4[1];var _useState5=useState('musics'),_useState6=_slicedToArray(_useState5,2),modalType=_useState6[0],setModalType=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),checkState=_useState8[0],setCheckState=_useState8[1];var _toggleModal=function _toggleModal(type){setModalType(type);var newCheckState={};dictionaries[type].forEach(function(item){newCheckState[item.code]='unchecked';});var interests=result[type];interests.forEach(function(interest){newCheckState[interest.code]='checked';});setCheckState(function(prev){return newCheckState;});setShowModal(!showModal);};useEffect(function(){onDone==null?void 0:onDone(result);},[result]);return React.createElement(View,{style:[styles.container],__self:_this,__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:9}},React.createElement(View,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:100,columnNumber:13}},React.createElement(InlineSelector,{title:\"Sports\",onPress:function onPress(){_toggleModal('sports');},renderText:function renderText(){return result.sports.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:101,columnNumber:17}}),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:106,columnNumber:17}}),React.createElement(InlineSelector,{title:\"Musics\",onPress:function onPress(){_toggleModal('musics');},renderText:function renderText(){return result.musics.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:107,columnNumber:17}}),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:112,columnNumber:17}}),React.createElement(InlineSelector,{title:\"Foods\",onPress:function onPress(){_toggleModal('foods');},renderText:function renderText(){return result.foods.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:113,columnNumber:17}}),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:118,columnNumber:17}}),React.createElement(InlineSelector,{title:\"Movies\",onPress:function onPress(){_toggleModal('movies');},renderText:function renderText(){return result.movies.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:119,columnNumber:17}}),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:17}}),React.createElement(InlineSelector,{title:\"Books\",onPress:function onPress(){_toggleModal('books');},renderText:function renderText(){return result.books.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:125,columnNumber:17}}),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:130,columnNumber:17}}),React.createElement(InlineSelector,{title:\"Travels\",onPress:function onPress(){_toggleModal('travels');},renderText:function renderText(){return result.travels.map(function(item){return item.name;}).join(',');},__self:_this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:17}})),React.createElement(Modal,{isVisible:showModal,propagateSwipe:true,onSwipeComplete:function onSwipeComplete(){return setShowModal(false);},swipeDirection:\"down\",style:styles.modal,onBackdropPress:function onBackdropPress(){return setShowModal(false);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:138,columnNumber:13}},React.createElement(View,{style:styles.modalContainer,__self:_this,__source:{fileName:_jsxFileName,lineNumber:144,columnNumber:17}},React.createElement(View,{style:styles.header,__self:_this,__source:{fileName:_jsxFileName,lineNumber:145,columnNumber:21}},React.createElement(Row,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:25}},React.createElement(Col,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:29}},React.createElement(TextButton,{onPress:function onPress(){setShowModal(false);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:34}},React.createElement(IcoMoon,{name:\"x\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:149,columnNumber:32}}))),React.createElement(Col,{align:\"center\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:150,columnNumber:29}},React.createElement(Text,{style:sharedStyles.title,__self:_this,__source:{fileName:_jsxFileName,lineNumber:150,columnNumber:49}},capitalizeWords(modalType))),React.createElement(Col,{align:\"flex-end\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:29}},React.createElement(TextButton,{onPress:_reset,__self:_this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:51}},React.createElement(Text,{style:[sharedStyles.text2,{paddingVertical:wp(10),paddingHorizontal:wp(5)}],__self:_this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:80}},\"Reset\"))))),React.createElement(Divider,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:159,columnNumber:21}}),React.createElement(View,{style:styles.content,__self:_this,__source:{fileName:_jsxFileName,lineNumber:160,columnNumber:21}},React.createElement(FlatList,{style:{height:wp(400)},data:dictionaries[modalType],keyExtractor:function keyExtractor(item){return item.code;},renderItem:function renderItem(_ref){var item=_ref.item;return React.createElement(Checkbox.Item,{labelStyle:sharedStyles.text2,label:item.name,color:colors.primary,status:checkState[item.code],onPress:function onPress(){var newStatus='unchecked';switch(checkState[item.code]){case'checked':newStatus='unchecked';break;case'unchecked':newStatus='checked';break;case'indeterminate':newStatus='checked';break;}setCheckState(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},item.code,newStatus));});},__self:_this,__source:{fileName:_jsxFileName,lineNumber:166,columnNumber:40}});},__self:_this,__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:25}})),React.createElement(View,{style:[styles.footer],__self:_this,__source:{fileName:_jsxFileName,lineNumber:189,columnNumber:21}},React.createElement(ButtonTO,{onPress:function onPress(){_toggleModal('musics');var checked=lodash.pickBy(checkState,function(value){return value==='checked';});var checkedKeys=Object.keys(checked);var checkedInterests=dictionaries[modalType].filter(function(item){return checkedKeys.includes(item.code);});setResult(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},modalType,checkedInterests));});},__self:_this,__source:{fileName:_jsxFileName,lineNumber:190,columnNumber:25}},React.createElement(InButtonText,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:207,columnNumber:28}},\"Done\"))))));};","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/src/components/InterestPicker/InterestPicker.tsx"],"names":["InterestPicker","sizeLabor","themeLabor","wp","colors","useBunnyKit","onDone","type","initialSports","name","code","initialMusics","initialFoods","initialMovies","initialBooks","initialTravels","props","sharedStyles","getSharedStyles","styles","makeStyles","_reset","result","setResult","useState","sports","musics","foods","movies","books","travels","showModal","setShowModal","modalType","setModalType","checkState","setCheckState","_toggleModal","newCheckState","dictionaries","item","interests","interest","useEffect","capitalizeWords","paddingVertical","paddingHorizontal","height","newStatus","checked","value","checkedKeys","Object","checkedInterests"],"mappings":"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","sourcesContent":["import {ButtonTO, IcoMoon, InButtonText, Text, TextButton, View} from '../UI';\nimport {Col, Row} from '../../containers';\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {useBunnyKit} from '../../hooks/bunny-kit';\nimport {getSharedStyles} from '../../helpers';\nimport {makeStyles} from './styles';\nimport Modal from 'react-native-modal';\nimport {Divider} from '../Divider';\nimport {FlatList} from 'react-native';\nimport {dictionaries} from './dictionaries';\nimport {Checkbox} from 'react-native-paper';\nimport lodash from 'lodash';\nimport {capitalizeWords} from '../../utils';\nimport {InlineSelector} from '../InlineSelector';\n\nexport interface Interest {\n    name: string,\n    code: string,\n}\n\nexport type CheckboxStatus = 'checked' | 'unchecked' | 'indeterminate'\n\nexport type InterestType = 'sports' | 'musics' | 'foods' | 'movies' | 'books' | 'travels'\n\nexport interface InterestPickerResult {\n    sports: Interest[],\n    musics: Interest[],\n    foods: Interest[],\n    movies: Interest[],\n    books: Interest[],\n    travels: Interest[],\n}\n\nexport type InterestModifyType = 'info' | 'edit'\n\nexport interface InterestPickerProps {\n    onDone?: (result: InterestPickerResult) => void,\n    type: InterestModifyType,\n    initialSports?: Interest[],\n    initialMusics?: Interest[],\n    initialFoods?: Interest[],\n    initialMovies?: Interest[],\n    initialBooks?: Interest[],\n    initialTravels?: Interest[],\n}\n\nexport const InterestPicker = (props: InterestPickerProps) => {\n    const {sizeLabor, themeLabor, wp, colors} = useBunnyKit();\n    const {\n        onDone,\n        type = 'edit',\n        initialSports = [{name: 'ATV', code: 'A0001'}],\n        initialMusics = [],\n        initialFoods = [],\n        initialMovies = [],\n        initialBooks = [],\n        initialTravels = [],\n    } = props;\n    const {sharedStyles} = getSharedStyles(sizeLabor, themeLabor);\n    const styles = makeStyles(sizeLabor, themeLabor);\n\n    const _reset = () => {\n\n    };\n\n    const [result, setResult] = useState({\n        sports: initialSports,\n        musics: initialMusics,\n        foods: initialFoods,\n        movies: initialMovies,\n        books: initialBooks,\n        travels: initialTravels\n    });\n\n    const [showModal, setShowModal] = useState(false);\n    const [modalType, setModalType] = useState<InterestType>('musics');\n    const [checkState, setCheckState] = useState<{ [key in string]: CheckboxStatus }>({});\n    const _toggleModal = (type: InterestType) => {\n        setModalType(type);\n        let newCheckState: { [key in string]: CheckboxStatus } = {};\n        dictionaries[type].forEach(item => {\n            newCheckState[item.code] = 'unchecked';\n        });\n        const interests = result[type];\n        interests.forEach(interest => {\n            newCheckState[interest.code] = 'checked';\n        });\n        setCheckState((prev) => (newCheckState));\n        setShowModal(!showModal);\n    };\n\n    useEffect(() => {\n        onDone?.(result);\n    }, [result]);\n\n\n    return (\n        <View style={[styles.container]}>\n            <View>\n                <InlineSelector title=\"Sports\"\n                                onPress={() => {\n                                    _toggleModal('sports');\n                                }}\n                                renderText={() => result.sports.map(item => item.name).join(',')}/>\n                <Divider/>\n                <InlineSelector title=\"Musics\"\n                                onPress={() => {\n                                    _toggleModal('musics');\n                                }}\n                                renderText={() => result.musics.map(item => item.name).join(',')}/>\n                <Divider/>\n                <InlineSelector title=\"Foods\"\n                                onPress={() => {\n                                    _toggleModal('foods');\n                                }}\n                                renderText={() => result.foods.map(item => item.name).join(',')}/>\n                <Divider/>\n                <InlineSelector title=\"Movies\"\n                                onPress={() => {\n                                    _toggleModal('movies');\n                                }}\n                                renderText={() => result.movies.map(item => item.name).join(',')}/>\n                <Divider/>\n                <InlineSelector title=\"Books\"\n                                onPress={() => {\n                                    _toggleModal('books');\n                                }}\n                                renderText={() => result.books.map(item => item.name).join(',')}/>\n                <Divider/>\n                <InlineSelector title=\"Travels\"\n                                onPress={() => {\n                                    _toggleModal('travels');\n                                }}\n                                renderText={() => result.travels.map(item => item.name).join(',')}/>\n            </View>\n\n            <Modal isVisible={showModal}\n                   propagateSwipe={true}\n                   onSwipeComplete={() => setShowModal(false)}\n                   swipeDirection=\"down\"\n                   style={styles.modal}\n                   onBackdropPress={() => setShowModal(false)}>\n                <View style={styles.modalContainer}>\n                    <View style={styles.header}>\n                        <Row>\n                            <Col><TextButton onPress={() => {\n                                setShowModal(false);\n                            }}><IcoMoon name=\"x\"/></TextButton></Col>\n                            <Col align=\"center\"><Text\n                                style={sharedStyles.title}>{capitalizeWords(modalType)}</Text></Col>\n                            <Col align=\"flex-end\"><TextButton onPress={_reset}><Text\n                                style={[sharedStyles.text2, {\n                                    paddingVertical: wp(10),\n                                    paddingHorizontal: wp(5)\n                                }]}>Reset</Text></TextButton></Col>\n                        </Row>\n                    </View>\n                    <Divider/>\n                    <View style={styles.content}>\n                        <FlatList\n                            style={{height: wp(400)}}\n                            data={dictionaries[modalType]}\n                            keyExtractor={item => item.code}\n                            renderItem={({item}) => {\n                                return <Checkbox.Item labelStyle={sharedStyles.text2} label={item.name}\n                                                      color={colors.primary}\n                                                      status={checkState[item.code]} onPress={() => {\n                                    let newStatus: CheckboxStatus = 'unchecked';\n                                    switch (checkState[item.code]) {\n                                        case 'checked':\n                                            newStatus = 'unchecked';\n                                            break;\n                                        case 'unchecked':\n                                            newStatus = 'checked';\n                                            break;\n                                        case 'indeterminate':\n                                            newStatus = 'checked';\n                                            break;\n                                    }\n                                    setCheckState((prev) => ({\n                                        ...prev,\n                                        [item.code]: newStatus\n                                    }));\n                                }}/>;\n                            }}\n                        />\n                    </View>\n                    <View style={[styles.footer]}>\n                        <ButtonTO onPress={() => {\n                            _toggleModal('musics');\n\n                            let checked = lodash.pickBy(checkState, function (value) {\n                                return value === 'checked';\n                            });\n                            const checkedKeys = Object.keys(checked);\n                            const checkedInterests = dictionaries[modalType].filter(item => {\n                                return checkedKeys.includes(item.code);\n                            });\n\n                            setResult(prevState => (\n                                {\n                                    ...prevState,\n                                    [modalType]: checkedInterests\n                                }\n                            ));\n                        }}><InButtonText>Done</InButtonText></ButtonTO>\n                    </View>\n                </View>\n\n            </Modal>\n        </View>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}