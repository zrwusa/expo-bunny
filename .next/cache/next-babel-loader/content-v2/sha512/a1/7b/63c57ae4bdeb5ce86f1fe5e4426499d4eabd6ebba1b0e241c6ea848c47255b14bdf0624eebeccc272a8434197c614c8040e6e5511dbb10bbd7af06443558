{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _jsxFileName=\"/Users/revone/projects/expo-react-bunny/packages/react-native-action-sheet/src/ActionSheet/index.tsx\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import BackHandler from\"react-native-web/dist/exports/BackHandler\";import Easing from\"react-native-web/dist/exports/Easing\";import Modal from\"react-native-web/dist/exports/Modal\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import View from\"react-native-web/dist/exports/View\";import ActionGroup from\"./ActionGroup\";var OPACITY_ANIMATION_IN_TIME=225;var OPACITY_ANIMATION_OUT_TIME=195;var EASING_OUT=Easing.bezier(0.25,0.46,0.45,0.94);var EASING_IN=Easing.out(EASING_OUT);var ActionSheet=function(_React$Component){_inherits(ActionSheet,_React$Component);var _super=_createSuper(ActionSheet);function ActionSheet(){var _this;_classCallCheck(this,ActionSheet);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._actionSheetHeight=360;_this.state={isVisible:false,isAnimating:false,options:null,onSelect:null,overlayOpacity:new Animated.Value(0),sheetOpacity:new Animated.Value(0)};_this._deferNextShow=undefined;_this._setActionSheetHeight=function(_ref){var nativeEvent=_ref.nativeEvent;return _this._actionSheetHeight=nativeEvent.layout.height;};_this.showActionSheetWithOptions=function(options,onSelect){var _this$state=_this.state,isVisible=_this$state.isVisible,overlayOpacity=_this$state.overlayOpacity,sheetOpacity=_this$state.sheetOpacity;if(isVisible){_this._deferNextShow=_this.showActionSheetWithOptions.bind(_assertThisInitialized(_this),options,onSelect);return;}_this.setState({options:options,onSelect:onSelect,isVisible:true,isAnimating:true});overlayOpacity.setValue(0);sheetOpacity.setValue(0);Animated.parallel([Animated.timing(overlayOpacity,{toValue:0.32,easing:EASING_OUT,duration:OPACITY_ANIMATION_IN_TIME,useNativeDriver:_this.props.useNativeDriver}),Animated.timing(sheetOpacity,{toValue:1,easing:EASING_OUT,duration:OPACITY_ANIMATION_IN_TIME,useNativeDriver:_this.props.useNativeDriver})]).start(function(result){if(result.finished){_this.setState({isAnimating:false});_this._deferNextShow=undefined;}});BackHandler.addEventListener('actionSheetHardwareBackPress',_this._selectCancelButton);};_this._selectCancelButton=function(){var options=_this.state.options;if(!options){return false;}if(typeof options.cancelButtonIndex==='undefined'){return;}else if(typeof options.cancelButtonIndex==='number'){return _this._onSelect(options.cancelButtonIndex);}else{return _this._animateOut();}};_this._onSelect=function(index){var _this$state2=_this.state,isAnimating=_this$state2.isAnimating,onSelect=_this$state2.onSelect;if(isAnimating){return false;}onSelect&&onSelect(index);return _this._animateOut();};_this._animateOut=function(){var _this$state3=_this.state,isAnimating=_this$state3.isAnimating,overlayOpacity=_this$state3.overlayOpacity,sheetOpacity=_this$state3.sheetOpacity;if(isAnimating){return false;}BackHandler.removeEventListener('actionSheetHardwareBackPress',_this._selectCancelButton);_this.setState({isAnimating:true});Animated.parallel([Animated.timing(overlayOpacity,{toValue:0,easing:EASING_IN,duration:OPACITY_ANIMATION_OUT_TIME,useNativeDriver:_this.props.useNativeDriver}),Animated.timing(sheetOpacity,{toValue:0,easing:EASING_IN,duration:OPACITY_ANIMATION_OUT_TIME,useNativeDriver:_this.props.useNativeDriver})]).start(function(result){if(result.finished){_this.setState({isVisible:false,isAnimating:false});if(_this._deferNextShow){_this._deferNextShow();}}});return true;};return _this;}_createClass(ActionSheet,[{key:\"render\",value:function render(){var _this$state4=this.state,isVisible=_this$state4.isVisible,overlayOpacity=_this$state4.overlayOpacity,options=_this$state4.options;var useModal=options?options.useModal===true:false;var overlay=isVisible?React.createElement(Animated.View,{style:[styles.overlay,{opacity:overlayOpacity}],__self:this,__source:{fileName:_jsxFileName,lineNumber:60,columnNumber:13}}):null;var appContent=React.createElement(View,{style:styles.flexContainer,importantForAccessibility:isVisible?'no-hide-descendants':'auto',__self:this,__source:{fileName:_jsxFileName,lineNumber:72,columnNumber:13}},React.Children.only(this.props.children));return React.createElement(View,{pointerEvents:this.props.pointerEvents,style:styles.flexContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:13}},appContent,isVisible&&!useModal&&React.createElement(React.Fragment,{__self:this,__source:{fileName:_jsxFileName,lineNumber:83,columnNumber:21}},overlay,this._renderSheet()),isVisible&&useModal&&React.createElement(Modal,{animationType:\"none\",transparent:true,onRequestClose:this._selectCancelButton,__self:this,__source:{fileName:_jsxFileName,lineNumber:89,columnNumber:21}},overlay,this._renderSheet()));}},{key:\"_renderSheet\",value:function _renderSheet(){var _this$state5=this.state,options=_this$state5.options,isAnimating=_this$state5.isAnimating,sheetOpacity=_this$state5.sheetOpacity;if(!options){return null;}var optionsArray=options.options,icons=options.icons,tintIcons=options.tintIcons,destructiveButtonIndex=options.destructiveButtonIndex,destructiveColor=options.destructiveColor,textStyle=options.textStyle,tintColor=options.tintColor,title=options.title,titleTextStyle=options.titleTextStyle,message=options.message,messageTextStyle=options.messageTextStyle,autoFocus=options.autoFocus,showSeparators=options.showSeparators,containerStyle=options.containerStyle,separatorStyle=options.separatorStyle;return React.createElement(TouchableWithoutFeedback,{importantForAccessibility:\"yes\",onPress:this._selectCancelButton,__self:this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:13}},React.createElement(Animated.View,{needsOffscreenAlphaCompositing:isAnimating,style:[styles.sheetContainer,{opacity:sheetOpacity,transform:[{translateY:sheetOpacity.interpolate({inputRange:[0,1],outputRange:[this._actionSheetHeight,0]})}]}],__self:this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:17}},React.createElement(View,{style:styles.sheet,onLayout:this._setActionSheetHeight,__self:this,__source:{fileName:_jsxFileName,lineNumber:140,columnNumber:21}},React.createElement(ActionGroup,{options:optionsArray,icons:icons,tintIcons:tintIcons===undefined?true:tintIcons,destructiveButtonIndex:destructiveButtonIndex,destructiveColor:destructiveColor,onSelect:this._onSelect,startIndex:0,length:optionsArray.length,textStyle:textStyle||{},tintColor:tintColor,title:title||undefined,titleTextStyle:titleTextStyle,message:message||undefined,messageTextStyle:messageTextStyle,autoFocus:autoFocus,showSeparators:showSeparators,containerStyle:containerStyle,separatorStyle:separatorStyle,__self:this,__source:{fileName:_jsxFileName,lineNumber:141,columnNumber:25}}))));}}]);return ActionSheet;}(React.Component);ActionSheet.defaultProps={useNativeDriver:true};export{ActionSheet as default};var styles=StyleSheet.create({flexContainer:{flex:1},overlay:{position:'absolute',top:0,right:0,bottom:0,left:0,backgroundColor:'black'},sheetContainer:{position:'absolute',left:0,right:0,bottom:0,top:0,backgroundColor:'transparent',alignItems:'flex-end',justifyContent:'center',flexDirection:'row'},sheet:{flex:1,backgroundColor:'transparent'}});","map":{"version":3,"sources":["/Users/revone/projects/expo-react-bunny/packages/react-native-action-sheet/src/ActionSheet/index.tsx"],"names":["OPACITY_ANIMATION_IN_TIME","OPACITY_ANIMATION_OUT_TIME","EASING_OUT","Easing","EASING_IN","ActionSheet","React","Component","defaultProps","useNativeDriver","_actionSheetHeight","state","isVisible","isAnimating","options","onSelect","overlayOpacity","Animated","sheetOpacity","_deferNextShow","undefined","_setActionSheetHeight","nativeEvent","useModal","overlay","styles","opacity","appContent","optionsArray","icons","tintIcons","destructiveButtonIndex","destructiveColor","textStyle","tintColor","title","titleTextStyle","message","messageTextStyle","autoFocus","showSeparators","containerStyle","separatorStyle","transform","translateY","inputRange","outputRange","showActionSheetWithOptions","toValue","easing","duration","result","BackHandler","_selectCancelButton","_onSelect","_animateOut","flexContainer","flex","position","top","right","bottom","left","backgroundColor","sheetContainer","alignItems","justifyContent","flexDirection","sheet"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n    Animated,\n    BackHandler,\n    Easing,\n    Modal,\n    StyleSheet,\n    TouchableWithoutFeedback,\n    View,\n    ViewProps,\n} from 'react-native';\nimport ActionGroup from './ActionGroup';\nimport {ActionSheetOptions} from '../types';\n\ninterface State {\n    isVisible: boolean;\n    isAnimating: boolean;\n    options: ActionSheetOptions | null;\n    onSelect: ((i: number) => void) | null;\n    overlayOpacity: any;\n    sheetOpacity: any;\n}\n\ninterface Props {\n    readonly useNativeDriver: boolean;\n    readonly pointerEvents?: ViewProps['pointerEvents'];\n}\n\nconst OPACITY_ANIMATION_IN_TIME = 225;\nconst OPACITY_ANIMATION_OUT_TIME = 195;\nconst EASING_OUT = Easing.bezier(0.25, 0.46, 0.45, 0.94);\nconst EASING_IN = Easing.out(EASING_OUT);\n\n// Has same API as https://facebook.github.io/react-native/docs/actionsheetios.html\nexport default class ActionSheet extends React.Component<Props, State> {\n    static defaultProps = {\n        useNativeDriver: true,\n    };\n\n    _actionSheetHeight = 360;\n\n    state: State = {\n        isVisible: false,\n        isAnimating: false,\n        options: null,\n        onSelect: null,\n        overlayOpacity: new Animated.Value(0),\n        sheetOpacity: new Animated.Value(0),\n    };\n\n    _deferNextShow?: () => void = undefined;\n\n    _setActionSheetHeight = ({nativeEvent}: any) =>\n        (this._actionSheetHeight = nativeEvent.layout.height);\n\n    render() {\n        const {isVisible, overlayOpacity, options} = this.state;\n        const useModal = options ? options.useModal === true : false;\n        const overlay = isVisible ? (\n            <Animated.View\n                style={[\n                    styles.overlay,\n                    {\n                        opacity: overlayOpacity,\n                    },\n                ]}\n            />\n        ) : null;\n\n        // While the sheet is visible, hide the rest of the app's content from screen readers.\n        const appContent = (\n            <View\n                style={styles.flexContainer}\n                importantForAccessibility={isVisible ? 'no-hide-descendants' : 'auto'}>\n                {React.Children.only(this.props.children)}\n            </View>\n        );\n\n        return (\n            <View pointerEvents={this.props.pointerEvents} style={styles.flexContainer}>\n                {appContent}\n                {isVisible && !useModal && (\n                    <React.Fragment>\n                        {overlay}\n                        {this._renderSheet()}\n                    </React.Fragment>\n                )}\n                {isVisible && useModal && (\n                    <Modal animationType=\"none\" transparent={true} onRequestClose={this._selectCancelButton}>\n                        {overlay}\n                        {this._renderSheet()}\n                    </Modal>\n                )}\n            </View>\n        );\n    }\n\n    _renderSheet() {\n        const {options, isAnimating, sheetOpacity} = this.state;\n\n        if (!options) {\n            return null;\n        }\n\n        const {\n            options: optionsArray,\n            icons,\n            tintIcons,\n            destructiveButtonIndex,\n            destructiveColor,\n            textStyle,\n            tintColor,\n            title,\n            titleTextStyle,\n            message,\n            messageTextStyle,\n            autoFocus,\n            showSeparators,\n            containerStyle,\n            separatorStyle,\n        } = options;\n        return (\n            <TouchableWithoutFeedback importantForAccessibility=\"yes\" onPress={this._selectCancelButton}>\n                <Animated.View\n                    needsOffscreenAlphaCompositing={isAnimating}\n                    style={[\n                        styles.sheetContainer,\n                        {\n                            opacity: sheetOpacity,\n                            transform: [\n                                {\n                                    translateY: sheetOpacity.interpolate({\n                                        inputRange: [0, 1],\n                                        outputRange: [this._actionSheetHeight, 0],\n                                    }),\n                                },\n                            ],\n                        },\n                    ]}>\n                    <View style={styles.sheet} onLayout={this._setActionSheetHeight}>\n                        <ActionGroup\n                            options={optionsArray}\n                            icons={icons}\n                            tintIcons={tintIcons === undefined ? true : tintIcons}\n                            destructiveButtonIndex={destructiveButtonIndex}\n                            destructiveColor={destructiveColor}\n                            onSelect={this._onSelect}\n                            startIndex={0}\n                            length={optionsArray.length}\n                            textStyle={textStyle || {}}\n                            tintColor={tintColor}\n                            title={title || undefined}\n                            titleTextStyle={titleTextStyle}\n                            message={message || undefined}\n                            messageTextStyle={messageTextStyle}\n                            autoFocus={autoFocus}\n                            showSeparators={showSeparators}\n                            containerStyle={containerStyle}\n                            separatorStyle={separatorStyle}\n                        />\n                    </View>\n                </Animated.View>\n            </TouchableWithoutFeedback>\n        );\n    }\n\n    showActionSheetWithOptions = (options: ActionSheetOptions, onSelect: (i: number) => void) => {\n        const {isVisible, overlayOpacity, sheetOpacity} = this.state;\n\n        if (isVisible) {\n            this._deferNextShow = this.showActionSheetWithOptions.bind(this, options, onSelect);\n            return;\n        }\n\n        this.setState({\n            options,\n            onSelect,\n            isVisible: true,\n            isAnimating: true,\n        });\n        overlayOpacity.setValue(0);\n        sheetOpacity.setValue(0);\n        Animated.parallel([\n            Animated.timing(overlayOpacity, {\n                toValue: 0.32,\n                easing: EASING_OUT,\n                duration: OPACITY_ANIMATION_IN_TIME,\n                useNativeDriver: this.props.useNativeDriver,\n            }),\n            Animated.timing(sheetOpacity, {\n                toValue: 1,\n                easing: EASING_OUT,\n                duration: OPACITY_ANIMATION_IN_TIME,\n                useNativeDriver: this.props.useNativeDriver,\n            }),\n        ]).start(result => {\n            if (result.finished) {\n                this.setState({\n                    isAnimating: false,\n                });\n                this._deferNextShow = undefined;\n            }\n        });\n        // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n        BackHandler.addEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n    };\n\n    _selectCancelButton = () => {\n        const {options} = this.state;\n\n        if (!options) {\n            return false;\n        }\n\n        if (typeof options.cancelButtonIndex === 'undefined') {\n            return;\n        } else if (typeof options.cancelButtonIndex === 'number') {\n            return this._onSelect(options.cancelButtonIndex);\n        } else {\n            return this._animateOut();\n        }\n    };\n\n    _onSelect = (index: number): boolean => {\n        const {isAnimating, onSelect} = this.state;\n\n        if (isAnimating) {\n            return false;\n        }\n\n        onSelect && onSelect(index);\n        return this._animateOut();\n    };\n\n    _animateOut = (): boolean => {\n        const {isAnimating, overlayOpacity, sheetOpacity} = this.state;\n\n        if (isAnimating) {\n            return false;\n        }\n\n        // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n        BackHandler.removeEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n        this.setState({\n            isAnimating: true,\n        });\n        Animated.parallel([\n            Animated.timing(overlayOpacity, {\n                toValue: 0,\n                easing: EASING_IN,\n                duration: OPACITY_ANIMATION_OUT_TIME,\n                useNativeDriver: this.props.useNativeDriver,\n            }),\n            Animated.timing(sheetOpacity, {\n                toValue: 0,\n                easing: EASING_IN,\n                duration: OPACITY_ANIMATION_OUT_TIME,\n                useNativeDriver: this.props.useNativeDriver,\n            }),\n        ]).start(result => {\n            if (result.finished) {\n                this.setState({\n                    isVisible: false,\n                    isAnimating: false,\n                });\n\n                if (this._deferNextShow) {\n                    this._deferNextShow();\n                }\n            }\n        });\n        return true;\n    };\n}\n\nconst styles = StyleSheet.create({\n    flexContainer: {\n        flex: 1,\n    },\n    overlay: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: 'black',\n    },\n    sheetContainer: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: 'transparent',\n        alignItems: 'flex-end',\n        justifyContent: 'center',\n        flexDirection: 'row',\n    },\n    sheet: {\n        flex: 1,\n        backgroundColor: 'transparent',\n    },\n});\n"]},"metadata":{},"sourceType":"module"}